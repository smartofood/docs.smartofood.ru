openapi: 3.1.0

info:
  title: Smartofood Client API
  description: Клиентский АПИ Smartofood
  version: 1.19.0
  contact:
    url: https://smartofood.ru
    email: support@smartofood.ru
  license:
    url: https://smartofood.ru/license.pdf
    name: Публичная оферта
  x-logo:
    url: https://docs.smartofood.ru/images/logo.png
    href: https://docs.smartofood.ru/api-client-v1/

servers:
  - url: https://{domain}/api/client/v1
    description: Клиентский сайт
    variables:
      domain:
        default: demo.smartofood.ru

x-tagGroups:
  - name: Общие
    tags:
      - Пинг API
      - Настройки
      - Обратный звонок
      - Подсказки адресов
  - name: Гость
    tags:
      - Регистрация
      - Авторизация
      - Профиль
  - name: Сайт
    tags:
      - Места
      - Страницы
      - Баннеры
      - Акции
      - Продукты
      - QR-меню
      - Фиды
  - name: Заказ
    tags:
      - Корзина
      - Оформление заказа
      - Информация о заказах

paths:
  /ping:
    get:
      tags:
        - Пинг API
      summary: Пинг API
      description: Этот эндпоинт возвращает статус сервиса, подтверждая, что API работает
        корректно.
      parameters:
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Успешный ответ, сервис доступен для работы
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: OK
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /settings:
    get:
      tags:
        - Настройки
      summary: Настройки
      description: Возвращает базовую конфигурацию сайта
      parameters:
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Массив с настройками
          content:
            application/json:
              schema:
                type: object
                properties:
                  COMMON_REGION:
                    type: string
                    description: Регион сайта
                    example: RU
                  COMMON_SMARTOFOOD_BRAND:
                    type: boolean
                    description: Используется бренд Smartofood, иначе бренд Restomize
                    example: true
                  COMMON_ASSETS_CDN:
                    type: string
                    description: CDN для статики
                    example: https://cdn.smartofood.ru
                  COMMON_AUTOCOMPLETE_ON:
                    type: boolean
                    description: Подсказки адресов включены
                    example: true
                  COMMON_CURRENCY:
                    type: string
                    description: Валюта сайта
                    example: RUB
                  COMMON_CURRENCY_DECIMALS:
                    type: integer
                    description: Количество знаков после запятой при отображении цен
                    example: 2
                    enum:
                      - 0
                      - 1
                      - 2
                  COMMON_TELEGRAM_BOT_NAME:
                    type: string
                    description: Название связанного с сайтом телеграм-бота
                    example: smartofood_bot
                  SYSTEM_PAGE_CHANGE_EVENT:
                    type: integer
                    description: Таймстамп последнего изменения страниц
                    example: 1727794873
                  SYSTEM_SETUP_FLAG:
                    type: boolean
                    description: Сайт настроен, можно отображать страницы
                    example: true
                  SYSTEM_TELEGRAM_BOT_LINKED:
                    type: boolean
                    description: С сайтом связан телеграм-бот
                    example: true
                  SYSTEM_WEBVIEW_REQUEST:
                    type: boolean
                    description: Запрос выполнен нашим WebView приложением
                    example: true
                  SITE_EXTERNAL_AUTH_WEBAPP:
                    type: boolean
                    description: Внешние сервисы авторизации разрешены в WebView приложении
                    example: true
                  SYSTEM_WEBVIEW_VERSION:
                    type: string
                    nullable: true
                    description: Версия WebView приложения или null, если не приложение
                    example: 1.0.0
                  SYSTEM_BACKEND_VERSION:
                    type: string
                    description: Версия текущего бэкенда
                    example: 1.0.0
                  SYSTEM_SMARTCAPTCHA_KEY:
                    type: string
                    description: Ключ клиента Yandex SmartCaptcha
                    example: ysc1_nVviGCiawUVv2F8CHfA8UBoqrhmQlnztiwjv61Da86329315
                  SYSTEM_TIPS_COMMISSION:
                    type: string
                    description: Комиссия чаевых в процентах
                    example: '10'
                  SYSTEM_TIPS_MINIMAL:
                    type: string
                    description: Минимальная сумма чаевых в рублях
                    example: '10'
                  SYSTEM_TIPS_OFFER:
                    type: string
                    description: URL публичной оферты чаевых
                    example: https://smartofood.ru/tips-offer.pdf
                  SYSTEM_MAIN_HOST:
                    type: string
                    description: Главный хост сайта
                    example: https://demo.smartofood.ru
                  SITE_APP_ANDROID:
                    type: string
                    description: Ссылка на приложение в Google Play
                    example: https://play.google.com/store/apps/details?id=ru.smartofood.demo
                  SITE_APP_IOS:
                    type: string
                    description: Ссылка на приложение в App Store
                    example: https://apps.apple.com/app/smartofood/id1633424452
                  SITE_APP_APPGALLERY:
                    type: string
                    description: Ссылка на приложение в AppGallery
                    example: https://appgallery.huawei.com/#/app/C10149665
                  SITE_APP_RUSTORE:
                    type: string
                    description: Ссылка на приложение в RuStore
                    example: https://www.rustore.ru/catalog/app/ru.smartofood.demo
                  SITE_AUTH_PRIVACY_CONFIRM:
                    type: boolean
                    description: Запрашивать подтвержение политики конфиденциальности
                    example: false
                  SITE_AUTH_PROMO_CONFIRM:
                    type: boolean
                    description: Запрашивать подтвержение рекламных рассылок
                    example: false
                  SITE_AUTH_PASSWORD:
                    type: boolean
                    description: Разрешать авторизацию по паролю
                    example: true
                  SITE_AUTH_PUSH:
                    type: boolean
                    description: Разрешать отправку push-уведомления с пин-кодом
                    example: true
                  SITE_AUTH_ANONYMOUS:
                    type: string
                    description: Анонимная авторизация
                    example: auto
                    enum:
                      - 'off'
                      - optional
                      - auto
                  SITE_AUTH_TYPE:
                    type: string
                    description: Авторизация по телефону
                    example: sms
                    enum:
                      - 'off'
                      - sms
                      - call
                      - voice
                  SITE_BASE_LANG:
                    type: string
                    description: Основной язык сайта
                    example: ru
                  SITE_FOREIGN_LANG:
                    type: string
                    description: Дополнительный язык сайта. Может быть не указан,
                      тогда не нужно показывать переключатель языков
                    example: en
                  SITE_CART_CASH_PAYMENT_LIMIT:
                    type: boolean
                    description: Лимит суммы неоплаченного заказа
                    example: 0
                  SITE_CART_COMMENT_PLACEHOLDER:
                    type: string
                    description: Описание для поля ввода комментария к заказу
                    example: 'Укажите комментарий, например: не звонить в домофон,
                      спит ребенок'
                  SITE_CART_COUPON_FIELD:
                    type: boolean
                    description: Показывать поле ввода промокода
                    example: true
                  SITE_CART_COUPON_MARKER_NOTICE:
                    type: boolean
                    description: Показывать предупреждение о маркерном промокоде
                    example: true
                  SITE_CART_ORDER_CONFIRMATION:
                    type: boolean
                    description: Заказ требует подтверждение оператором
                    example: true
                  SITE_CART_SHOWCASE_MODE:
                    type: boolean
                    description: Режим витрины (нельзя оформить заказ)
                    example: true
                  SITE_CART_ORDER_DEFAULT:
                    type: string
                    description: Стандартный тип заказа
                    example: delivery
                    enum:
                      - delivery
                      - pickup
                  SITE_CART_ORDER_DOORPHONE_FIELD:
                    type: boolean
                    description: Показывать поле ввода кода домофона
                    example: true
                  SITE_CART_ORDER_DOORSTEP_DELIVERY:
                    type: boolean
                    description: Доставка только до подъезда
                    example: true
                  SITE_CART_PERSONS_SELECTOR:
                    type: string
                    description: Показывать селектор количества приборов
                    example: 'off'
                    enum:
                      - 'off'
                      - address
                      - pay
                  SITE_REVIEWS_ON:
                    type: boolean
                    description: Принимать отзывы для заказов
                    example: true
                  SITE_REVIEWS_MEDIA_FILES:
                    type: integer
                    description: Максимальное кол-во медиа-файлов к загрузке за один
                      раз
                    example: 5
                  SITE_ADDRESS_PAGE_QR_PICKUP:
                    type: boolean
                    description: Показывать страницу адреса для QR-меню самовывоза
                    example: true
                  SITE_CITY_AS_CONCEPT:
                    type: boolean
                    description: Использовать город в качестве концепции
                    example: true
                  SITE_COMPANY_FAVICON_URL:
                    type: string
                    description: Ссылка на favicon сайта
                    example: https://s3.smartofood.ru/demo/favicon.ico
                  SITE_COMPANY_LOGO_URL:
                    type: string
                    description: Ссылка на логотип сайта
                    example: https://s3.smartofood.ru/demo/images/79b761c8-93dd-4514-aca0-657c48053003.svg
                  SITE_COMPANY_NAME:
                    type: string
                    description: Название компании
                    example: Шоколадница
                  SITE_PAUSE_MODE:
                    type: boolean
                    description: Режим "Пауза" включен
                    example: true
                  SITE_PAUSE_TITLE:
                    type: string
                    description: Заголовок для страницы "Пауза"
                    example: Временно не работаем
                  SITE_PAUSE_DESC:
                    type: string
                    description: Описание для страницы "Пауза"
                    example: Друзья, мы уходим в зимнюю спячку. Увидимся в новом сезоне.
                      Следите за обновлениями в нашем телеграмме.
                  SITE_PAUSE_LINK:
                    type: string
                    description: Ссылка для изображения страницы  "Пауза"
                    example: https://t.me/durov_russia
                  SITE_PAUSE_IMG_URL:
                    type: string
                    description: Ссылка на изображение для страницы "Пауза"
                    example: https://s3.smartofood.ru/demo/images/79b761c8-93dd-4514-aca0-657c48053003.svg
                  SITE_PAUSE_IMG_SIZE:
                    type: string
                    description: Размер изображения для страницы "Пауза"
                    example: 800x600
                  SITE_CONCEPT_TITLE:
                    type: string
                    description: Заголовок для выбора концепции. Если не указан, показываем
                      стандартный
                    example: Выберите концепцию
                  SITE_COUNTER_ANALYTICS:
                    type: string
                    description: Идентификатор отслеживания Google Analytics
                    example: UA-000000-1
                  SITE_COUNTER_METRIKA:
                    type: string
                    description: Идентификатор отслеживания Яндекс.Метрика
                    example: '00000002'
                  SITE_VK_PIXEL:
                    type: string
                    description: Идентификатор VK пиксель. Один или несколько через
                      запятую
                    example: 00000002,00000003
                  SITE_TAG_POSITION:
                    type: string
                    description: Положение тегов
                    example: bottom
                    enum:
                      - top
                      - bottom
                  SITE_DARK_PRODUCT_LINE_CLAMP:
                    type: string
                    description: Количество строк в шаблоне названия карточки продукта
                    example: standard
                    enum:
                      - standard
                      - extended
                  SITE_DARK_PRODUCT_PANEL_TYPE:
                    type: string
                    description: Тип шаблона карточки продукта
                    example: standard
                    enum:
                      - standard
                      - overimage
                  SITE_GUEST_BONUS_SHOW:
                    type: boolean
                    description: Показывать бонусный баланс гостя в личном кабинете
                    example: true
                  SITE_GUEST_QR_SHOW:
                    type: boolean
                    description: Показывать QR-карту гостя в личном кабинете
                    example: true
                  SITE_IMAGES_BANNERS_FIT:
                    type: string
                    description: Настройка масштабирования баннеров
                    example: resize
                    enum:
                      - resize
                      - cover
                  SITE_IMAGES_OFFERS_FIT:
                    type: string
                    description: Настройка масштабирования изображения акций
                    example: cover
                    enum:
                      - cover
                      - contain
                  SITE_IMAGES_PRODUCTS_FIT:
                    type: string
                    description: Настройка масштабирования изображения продуктов
                    example: cover
                    enum:
                      - cover
                      - contain
                  SITE_MOBILE_GRID_TYPE:
                    $ref: '#/components/schemas/MobileGridType'
                  SITE_MOBILE_GRID_STYLE:
                    $ref: '#/components/schemas/MobileGridStyle'
                  SITE_MOBILE_GRID_DESCRIPTION:
                    $ref: '#/components/schemas/MobileGridDescription'
                  SITE_MOBILE_GRID_IMAGE:
                    $ref: '#/components/schemas/MobileGridImage'
                  SITE_MOBILE_GRID_PROPORTIONS:
                    $ref: '#/components/schemas/MobileGridProportion'
                  SITE_LINK_FB:
                    type: string
                    description: Ссылка на группу в Фейсбуке
                    example: https://www.facebook.com/zuck
                  SITE_LINK_INSTAGRAM:
                    type: string
                    description: Ссылка на профиль в Инстаграме
                    example: https://www.instagram.com/kevin/
                  SITE_LINK_OK:
                    type: string
                    description: Ссылка на группу в Однокласниках
                    example: https://ok.ru/afedchin
                  SITE_LINK_TELEGRAM:
                    type: string
                    description: Ссылка на Телеграм
                    example: https://t.me/durov_russia
                  SITE_LINK_TWITTER:
                    type: string
                    description: Ссылка на профиль в Твиттере
                    example: https://twitter.com/jack
                  SITE_LINK_VK:
                    type: string
                    description: Ссылка на группу во ВКонтакте
                    example: https://vk.com/andrew
                  SITE_LINK_WHATSAPP:
                    type: string
                    description: Ссылка на чат в WhatsApp
                    example: https://wa.me/1XXXXXXXXXX
                  SITE_LINK_YOUTUBE:
                    type: string
                    description: Ссылка на Ютуб-канал
                    example: https://www.youtube.com/user/youtuberussia
                  SITE_LINKS_WEBAPP_SHOW:
                    type: boolean
                    description: Показывать ссылки в приложении
                    example: true
                  SITE_COPYRIGHT_SHOW:
                    type: boolean
                    description: Показывать копирайт Smartofood на сайте
                    example: true
                  SITE_MAIN_GROUPS:
                    type: boolean
                    description: Показывать блок с группами продуктов на главной
                    example: true
                  SITE_MENU_TYPE:
                    type: string
                    description: Тип главного меню сайта
                    example: vertical
                    enum:
                      - vertical
                      - horizontal
                  SITE_METRIKA_WEBVISOR:
                    type: boolean
                    description: Вебвизор для системной Яндекс.Метрики
                    example: true
                  SITE_NUTRITION_FACTS:
                    type: boolean
                    description: Показывать пищевую ценность
                    example: true
                  SITE_OPERATING_HOURS:
                    type: string
                    description: Режим работы сайта
                    example: 'off'
                    enum:
                      - 'off'
                      - processing
                      - business
                  SITE_PAGE_INDEX:
                    type: boolean
                    description: Индексация страниц
                    example: true
                  SITE_PRODUCTS_DEFAULT_CART_ADD:
                    type: boolean
                    description: Добавлять продукт с модификаторами по умолчанию сразу
                      в корзину
                    example: true
                  SITE_PRODUCTS_MIN_PRICE:
                    type: boolean
                    description: Показывать "от" у цены продукта
                    example: true
                  SITE_PRODUCTS_MIN_PRICE_MODIFIERS:
                    type: boolean
                    description: Показывать "от" у цены продукта если есть платные
                      необязательные модификаторы
                    example: true
                  SITE_PRODUCTS_MIN_PRICE_SIZES:
                    type: boolean
                    description: Показывать "от" у цены продукта если есть размеры
                      с разными ценами
                    example: true
                  SITE_PRODUCTS_OPTIONS_BTN:
                    type: boolean
                    description: Показывать кнопку "Опции"
                    example: true
                  SITE_PRODUCTS_SELECTOR_DEFAULT:
                    type: boolean
                    description: Значение по умолчанию селекторного модификатора
                    example: true
                  SITE_PRODUCTS_SELECTOR_TYPE:
                    type: string
                    description: Тип селекторного модификатора
                    example: default
                    enum:
                      - default
                      - switch
                      - select
                  SITE_PRODUCTS_WEIGHT:
                    type: boolean
                    description: Показывать вес продукта
                    example: true
                  SITE_ROBOTS_TXT:
                    type: string
                    description: Текст для robots.txt
                  SITE_SCRIPTS_BODY:
                    type: string
                    description: Скрипты для блока BODY
                  SITE_SCRIPTS_HEAD:
                    type: string
                    description: Скрипты для блока HEAD
                  SITE_SERVICE_MODE:
                    type: boolean
                    description: Сервисный режим сайта
                    example: true
                  SITE_SHOP_BINDING_PROMPT:
                    type: string
                    description: Запрашивать привязку гостя к заведению
                    example: 'off'
                    enum:
                      - 'off'
                      - shop
                      - shop-geo
                      - shop-auto
                  SITE_SMS_WHEN_CALL_FAIL:
                    type: boolean
                    description: Разрешать отправку смс-кода при недозвоне
                    example: true
                  SITE_THEME:
                    type: string
                    description: Тема шаблона
                    example: light
                    enum:
                      - light
                      - dark
                  SITE_TEMPLATE_COLOR:
                    type: string
                    description: Цветовая схема шаблона, если custom - используем
                      цветовые коды SITE_TEMPLATE
                    example: red
                    enum:
                      - red
                      - pink
                      - orange
                      - yellow
                      - green
                      - mint
                      - cyan
                      - blue
                      - indigo
                      - purple
                      - brown
                      - black
                      - custom
                  SITE_TEMPLATE_FONT:
                    type: string
                    description: Название шрифта шаблона
                    example: Golos Text
                    enum:
                      - Golos Text
                      - Montserrat
                      - Open Sans
                      - Inter
                      - Oswald
                      - Manrope
                      - Fira Sans
                      - Rubik
                      - Libre Franklin
                      - Merriweather
                      - Roboto
                      - PT Sans
                  SITE_TEMPLATE_RADIUS:
                    type: string
                    description: Коэффициент радиуса скругления элементов шаблона,
                      от 0 до 2
                    example: 0.75
                  SITE_TEMPLATE_LIGHT_BG_COLOR:
                    type: string
                    description: HEX-код цвета фона светлой темы
                    example: ffffff
                  SITE_TEMPLATE_LIGHT_BG_PANEL_COLOR:
                    type: string
                    description: HEX-код цвета фона панелей светлой темы
                    example: ffffff
                  SITE_TEMPLATE_LIGHT_BG_SELECTION_COLOR:
                    type: string
                    description: HEX-код цвета фона выделенного элемента светлой темы
                    example: efeefd
                  SITE_TEMPLATE_LIGHT_BRAND_COLOR:
                    type: string
                    description: HEX-код фирменного цвета светлой темы
                    example: 6155e7
                  SITE_TEMPLATE_LIGHT_TEXT_COLOR:
                    type: string
                    description: HEX-код цвета текста светлой темы
                    example: 4a465c
                  SITE_TEMPLATE_LIGHT_TEXT_ON_BRAND_COLOR:
                    type: string
                    description: HEX-код цвета текста на фирменном цвете светлой темы
                    example: ffffff
                  SITE_TEMPLATE_DARK_BG_COLOR:
                    type: string
                    description: HEX-код цвета фона темной темы
                    example: 161616
                  SITE_TEMPLATE_DARK_BG_PANEL_COLOR:
                    type: string
                    description: HEX-код цвета фона панелей темной темы
                    example: 222222
                  SITE_TEMPLATE_DARK_BG_SELECTION_COLOR:
                    type: string
                    description: HEX-код цвета фона выделенного элемента темной темы
                    example: eafaee
                  SITE_TEMPLATE_DARK_BRAND_COLOR:
                    type: string
                    description: HEX-код фирменного цвета темной темы
                    example: 30d158
                  SITE_TEMPLATE_DARK_TEXT_COLOR:
                    type: string
                    description: HEX-код цвета текста темной темы
                    example: ffffff
                  SITE_TEMPLATE_DARK_TEXT_ON_BRAND_COLOR:
                    type: string
                    description: HEX-код цвета текста на фирменном цвете темной темы
                    example: ffffff
                  SITE_TEXT_PAGES_WEBAPP_SHOW:
                    type: boolean
                    description: Показывать текстовые страницы в приложении
                    example: true
                  SITE_WARNING_18:
                    type: boolean
                    description: Показывать предупреждение 18+
                    example: true
                  YANDEX_ID_ON:
                    type: boolean
                    description: Авторизация через Яндекс ID включена
                    example: true
                  YANDEX_ID_CLIENT:
                    type: string
                    description: Клиентский ID Яндекс ID
                    example: 2ec6547bfcfe4d3aaa28dd6cdcf32f17
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /callback:
    post:
      tags:
        - Обратный звонок
      summary: Обратный звонок
      description: Отправляет оповещение о необходимости обратного звонка
      parameters:
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CallbackRequest'
      responses:
        '200':
          description: Оповещение отправлено
        '400':
          $ref: '#/components/responses/BadRequestError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /suggestions/streets:
    get:
      tags:
        - Подсказки адресов
      summary: Поиск улиц
      description: Возвращает список улиц (только для России)
      security:
        - BearerAuth: [ ]
      parameters:
        - $ref: '#/components/parameters/CityId'
        - $ref: '#/components/parameters/Query'
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Список улиц
          content:
            application/json:
              schema:
                type: object
                required:
                  - streets
                properties:
                  streets:
                    type: array
                    items:
                      type: object
                      required:
                        - id
                        - city
                        - label
                        - value
                      properties:
                        id:
                          type: string
                          description: Идентификатор улицы (КЛАДР или внутренний)
                          example: 77000000000225300
                        city:
                          type: string
                          description: Название населенного пункта
                          example: Москва
                        label:
                          type: string
                          description: Полное название улицы для отображения
                          example: ул Пермская
                        value:
                          type: string
                          description: Название улицы для поля
                          example: Пермская
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /suggestions/houses:
    get:
      tags:
        - Подсказки адресов
      summary: Поиск домов
      description: Возвращает список домов по улице (только для России)
      security:
        - BearerAuth: [ ]
      parameters:
        - $ref: '#/components/parameters/Query'
        - $ref: '#/components/parameters/StreetId'
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Список домов
          content:
            application/json:
              schema:
                type: object
                required:
                  - houses
                properties:
                  houses:
                    type: array
                    items:
                      type: object
                      required:
                        - label
                        - value
                      properties:
                        label:
                          type: string
                          description: Полное название дома для отображения
                          example: д 2
                        value:
                          type: string
                          description: Название дома для поля
                          example: 2
                        city:
                          type: string
                          description: Название населенного пункта
                          example: Москва
                        addr:
                          type: string
                          description: Полный адрес до дома
                          example: 107143, г Москва, р-н Метрогородок, ул Пермская,
                            д 2
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /suggestions/places:
    get:
      tags:
        - Подсказки адресов
      summary: Поиск мест
      description: Возвращает список мест (используется для поиска по миру, кроме
        России)
      security:
        - BearerAuth: [ ]
      parameters:
        - $ref: '#/components/parameters/CityId'
        - $ref: '#/components/parameters/Query'
        - $ref: '#/components/parameters/Session'
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Список мест
          content:
            application/json:
              schema:
                type: object
                required:
                  - session
                  - results
                properties:
                  session:
                    type: string
                    description: Текущая сессия запросов. Используется для уменьшения
                      стоимости запросов
                    example: 6a0027be-5438-4b0b-8fa3-1fa53e04605b
                  results:
                    type: array
                    items:
                      type: object
                      required:
                        - id
                        - city
                        - label
                        - value
                      properties:
                        id:
                          type: string
                          description: Идентификатор места
                          example: ChIJHUk7Zlk0tUYRXL0A-_ggV8E
                        city:
                          type: string
                          description: Название населенного пункта
                          example: Москва, Россия
                        label:
                          type: string
                          description: Полное название места для отображения
                          example: Пермская улица, 2, Москва, Россия
                        value:
                          type: string
                          description: Название места для поля
                          example: Пермская, 2
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /suggestions/places/complete:
    get:
      tags:
        - Подсказки адресов
      summary: Детализация места
      description: Возвращает детальную информацию о месте (используется для поиска
        по миру, кроме России)
      security:
        - BearerAuth: [ ]
      parameters:
        - $ref: '#/components/parameters/PlaceId'
        - $ref: '#/components/parameters/Session'
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          $ref: '#/components/responses/GooglePlace'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /auth/register:
    post:
      tags:
        - Регистрация
      summary: Регистрация по телефону
      description: Отправляет код для подтверждения регистрации гостя
      parameters:
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RegisterRequest'
      responses:
        '200':
          $ref: '#/components/responses/CodeSendedSuccess'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /auth/register/confirm:
    post:
      tags:
        - Регистрация
      summary: Подтверждение регистрации
      description: Подтверждает регистрацию гостя по телефону кодом отправленным с
        помощью [POST /auth/register]
      parameters:
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AuthPhoneConfirmRequest'
      responses:
        '200':
          $ref: '#/components/responses/AuthSuccess'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /auth/recovery:
    post:
      tags:
        - Регистрация
      summary: Восстановление пароля
      description: Отправляет новый пароль для авторизации по номеру телефона
      parameters:
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RecoveryRequest'
      responses:
        '200':
          description: Пароль отправлен
        '400':
          $ref: '#/components/responses/BadRequestError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /auth/refresh:
    post:
      tags:
        - Авторизация
      summary: Авторизация по refresh-токену
      description: Выдаёт новый access-токен по действующему refresh-токену и обновляет его
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - refresh_token
              properties:
                refresh_token:
                  type: string
                  description: Refresh token
      responses:
        '200':
          $ref: '#/components/responses/AuthSuccess'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /auth/anonymous:
    post:
      tags:
        - Авторизация
      summary: Анонимная авторизация
      description: Авторизует любого пользователя без ввода номера телефона при включеной
        настройке SITE_AUTH_ANONYMOUS
      parameters:
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          $ref: '#/components/responses/AuthSuccess'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /auth/telegram/session:
    post:
      tags:
        - Авторизация
      summary: Авторизация по сессии Telegram бота
      description: Авторизует гостя по сессии переданной ботом
      parameters:
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - session_hash
              properties:
                session_hash:
                  type: string
                  description: MD5-хэш сессии
                  example: e5440561a26066f4b18101ff563312de
      responses:
        '200':
          $ref: '#/components/responses/AuthSuccess'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /auth/telegram/login:
    post:
      tags:
        - Авторизация
      summary: Авторизация по данным Telegram Mini App
      description: Авторизует гостя по данным переданным из Telegram Mini App
      parameters:
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - init_data
              properties:
                init_data:
                  $ref: '#/components/schemas/TgInitData'
      responses:
        '200':
          $ref: '#/components/responses/AuthSuccess'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /auth/yandex:
    post:
      tags:
        - Авторизация
      summary: Авторизация по токену Яндекс ID
      parameters:
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - city_id
                - token
              properties:
                city_id:
                  $ref: '#/components/schemas/CityId'
                token:
                  type: string
                  description: Токен Яндекс ID
                privacy:
                  $ref: '#/components/schemas/AuthPrivacy'
                promo:
                  $ref: '#/components/schemas/AuthPromo'
      responses:
        '200':
          $ref: '#/components/responses/AuthSuccess'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /auth/login:
    post:
      tags:
        - Авторизация
      summary: Авторизация по паролю
      description: Авторизует гостя по паролю указанному при регистрации [POST /auth/register]
      parameters:
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'
      responses:
        '200':
          $ref: '#/components/responses/AuthSuccess'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /auth/phone:
    post:
      tags:
        - Авторизация
      summary: Отправка кода по телефону
      description: Отправляет код подтверждения для авторизации по телефону
      parameters:
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AuthPhoneRequest'
      responses:
        '200':
          $ref: '#/components/responses/CodeSendedSuccess'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /auth/phone/confirm:
    post:
      tags:
        - Авторизация
      summary: Авторизация по телефону
      description: Подтверждает авторизацию по телефону кодом отправленным с помощью
        [POST /auth/phone]
      parameters:
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AuthPhoneConfirmRequest'
      responses:
        '200':
          $ref: '#/components/responses/AuthSuccess'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /profile:
    get:
      tags:
        - Профиль
      summary: Профиль гостя
      description: Возвращает информацию о профиле авторизованного гостя
      security:
        - BearerAuth: [ ]
      parameters:
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          $ref: '#/components/responses/Profile'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
    patch:
      tags:
        - Профиль
      summary: Обновление данных профиля
      description: Обновляет данные профиля
      security:
        - BearerAuth: [ ]
      parameters:
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProfileUpdateRequest'
      responses:
        '200':
          description: Обновлено успешно
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
    delete:
      tags:
        - Профиль
      summary: Удаление гостя
      description: Удаляет авторизованного гостя
      security:
        - BearerAuth: [ ]
      parameters:
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Гость удален
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /profile:changePassword:
    post:
      tags:
        - Профиль
      summary: Изменение пароля
      description: Меняет пароль авторизованного гостя
      security:
        - BearerAuth: [ ]
      parameters:
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PasswordUpdateRequest'
      responses:
        '200':
          description: Пароль изменен
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /profile/qr:
    get:
      tags:
        - Профиль
      summary: QR-карта гостя
      description: Возвращает QR-карту авторизованного гостя
      security:
        - BearerAuth: [ ]
      parameters:
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          $ref: '#/components/responses/QrMap'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /profile/bonus:
    get:
      tags:
        - Профиль
      summary: Бонусный баланс гостя
      description: Возвращает бонусный баланс авторизованного гостя
      security:
        - BearerAuth: [ ]
      parameters:
        - $ref: '#/components/parameters/CityId'
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          $ref: '#/components/responses/BonusBalance'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /auth/logout:
    post:
      tags:
        - Профиль
      summary: Выход
      security:
        - BearerAuth: [ ]
      description: Сбрасывает авторизацию
      parameters:
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Авторизация сброшена
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /cities:
    get:
      tags:
        - Места
      summary: Список городов
      description: Возвращает список доступных городов
      parameters:
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Массив доступных городов
          content:
            application/json:
              schema:
                type: object
                required:
                  - cities
                properties:
                  cities:
                    type: array
                    items:
                      type: object
                      required:
                        - id
                        - name
                      properties:
                        id:
                          $ref: '#/components/schemas/CityId'
                        folder:
                          $ref: '#/components/schemas/CityFolder'
                        name:
                          $ref: '#/components/schemas/CityName'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /cities/{city_id}:
    get:
      tags:
        - Места
      summary: Информация о городе
      description: Возвращает информацию о городе
      parameters:
        - in: path
          name: city_id
          description: Идентификатор города
          required: true
          schema:
            type: integer
            example: 1
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Информация о городе
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/City'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /places:
    get:
      tags:
        - Места
      summary: Места самовывоза
      description: Возвращает список доступных заведений самовывоза с городами
      parameters:
        - $ref: '#/components/parameters/ShopId'
        - in: query
          name: lat
          description: Местонахождение гостя (широта)
          required: false
          schema:
            type: number
            example: 55.878315
        - in: query
          name: lon
          description: Местонахождение гостя (долгота)
          required: false
          schema:
            type: number
            example: 37.65372
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Массив доступных городов
          content:
            application/json:
              schema:
                type: object
                required:
                  - cities
                properties:
                  cities:
                    type: array
                    items:
                      type: object
                      required:
                        - id
                        - name
                        - shops
                      properties:
                        id:
                          $ref: '#/components/schemas/CityId'
                        name:
                          $ref: '#/components/schemas/CityName'
                        folder:
                          $ref: '#/components/schemas/CityFolder'
                        shops:
                          type: array
                          items:
                            $ref: '#/components/schemas/Shop'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /nav:
    get:
      tags:
        - Страницы
      summary: Навигация сайта
      description: Возвращает навигацию сайта
      parameters:
        - $ref: '#/components/parameters/CityId'
        - $ref: '#/components/parameters/ShopId'
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Навигация
          content:
            application/json:
              schema:
                type: object
                required:
                  - nav
                properties:
                  nav:
                    $ref: '#/components/schemas/Navigation'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /pages:
    get:
      tags:
        - Страницы
      summary: Информация о странице
      description: Возвращает информацию о странице по указанному пути
      parameters:
        - $ref: '#/components/parameters/Path'
        - $ref: '#/components/parameters/ShopId'
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          $ref: '#/components/responses/PageInfo'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /pages/{type}:
    get:
      tags:
        - Страницы
      summary: Список страниц по типу
      description: Возвращает список страниц определенного типа
      parameters:
        - in: path
          name: type
          required: true
          description: Тип страницы
          schema:
            $ref: '#/components/schemas/RequestPageType'
        - in: query
          name: city_id
          description: Идентификатор города
          required: false
          schema:
            type: integer
            example: 1
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Список страниц
          content:
            application/json:
              schema:
                type: object
                required:
                  - pages
                properties:
                  pages:
                    type: array
                    items:
                      type: object
                      required:
                        - city_id
                        - type
                        - path
                      properties:
                        city_id:
                          $ref: '#/components/schemas/CityId'
                        type:
                          $ref: '#/components/schemas/PageType'
                        path:
                          $ref: '#/components/schemas/PagePath'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /pages/{page_id}:getFile:
    get:
      tags:
        - Страницы
      summary: Возращает файл
      description: Загрузка файла
      parameters:
        - $ref: '#/components/parameters/PageId'
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Файл
          content:
            application/octet-stream:
              schema:
                type: string
                format: binary
        '400':
          $ref: '#/components/responses/BadRequestError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /popups/unseen:
    get:
      tags:
        - Страницы
      summary: Попап для страницы
      description: Возвращает непросмотренный попап для страницы, если он есть
      parameters:
        - $ref: '#/components/parameters/UserHash'
        - $ref: '#/components/parameters/Path'
        - $ref: '#/components/parameters/ShopId'
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Непросмотренный попап
          content:
            application/json:
              schema:
                type: object
                required:
                  - unseen
                properties:
                  unseen:
                    type: object
                    nullable: true
                    required:
                      - id
                      - title
                      - description
                      - end_date
                      - button
                    properties:
                      id:
                        type: integer
                        description: Идентфикатор попапа
                        example: 1
                      title:
                        type: string
                        description: Заголовок попапа
                        example: Второй кофе в подарок
                      description:
                        type: string
                        description: Описание попапа
                        example: Закажите комбо + кофе и получите каппучино в подарок
                      image_url:
                        $ref: '#/components/schemas/ImageUrl'
                      end_date:
                        type: string
                        nullable: true
                        description: Дата окончания акции
                        example: 28 июн. 2025 г.
                      button:
                        type: object
                        nullable: true
                        description: Кнопка для перехода
                        required:
                          - label
                          - url
                        properties:
                          label:
                            type: string
                            description: Лайбл кпопки
                            example: Подробнее
                          url:
                            type: string
                            description: URL перехода
                            example: https://demo.smartofood.ru/offers
        '400':
          $ref: '#/components/responses/BadRequestError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /popups:click:
    post:
      tags:
        - Страницы
      summary: Отметка перехода по кнопке попапа
      description: Отмечает совершенный переход по кнопке попапа
      parameters:
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - popup_id
                - user_hash
              properties:
                popup_id:
                  type: integer
                  description: Идентификатор попапа
                  example: 1
                user_hash:
                  $ref: '#/components/schemas/UserHash'
      responses:
        '200':
          description: Переход отмечен
        '400':
          $ref: '#/components/responses/BadRequestError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /banners:
    get:
      tags:
        - Баннеры
      summary: Баннеры
      description: Возвращает список баннеров для страниц
      parameters:
        - $ref: '#/components/parameters/Path'
        - $ref: '#/components/parameters/ShopId'
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Массив доступных баннеров
          content:
            application/json:
              schema:
                type: object
                required:
                  - banners
                properties:
                  banners:
                    type: array
                    items:
                      $ref: '#/components/schemas/Banner'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /offers:
    get:
      tags:
        - Акции
      summary: Акции
      description: Возвращает список акций
      parameters:
        - in: query
          name: city_id
          description: Идентификатор города
          schema:
            type: integer
            example: 1
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Массив доступных акций
          content:
            application/json:
              schema:
                type: object
                required:
                  - offers
                properties:
                  offers:
                    type: array
                    items:
                      $ref: '#/components/schemas/Offer'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /products:
    get:
      tags:
        - Продукты
      summary: Список продуктов
      description: Возвращает список продуктов группы
      parameters:
        - $ref: '#/components/parameters/CityId'
        - $ref: '#/components/parameters/EntityId'
        - $ref: '#/components/parameters/ShopId'
        - $ref: '#/components/parameters/PageNumber'
        - $ref: '#/components/parameters/PageLimit'
        - $ref: '#/components/parameters/IsQr'
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Доступные продукты
          content:
            application/json:
              schema:
                type: object
                required:
                  - items
                  - version
                properties:
                  mobile_grid:
                    $ref: '#/components/schemas/MobileGrid'
                  items:
                    oneOf:
                      - type: array
                        items:
                          $ref: '#/components/schemas/ProductListItemV0'
                      - type: array
                        items:
                          $ref: '#/components/schemas/ProductListItemV1'
                      - type: array
                        items:
                          $ref: '#/components/schemas/ProductListItemV2'
                  version:
                    $ref: '#/components/schemas/MenuVersion'
                  next:
                    type: integer
                    description: Номер следующей страницы, если она есть
                    example: 1
        '400':
          $ref: '#/components/responses/BadRequestError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /products/details:
    get:
      tags:
        - Продукты
      summary: Информация о продукте
      description: Возвращает детальную информацию о продукте
      parameters:
        - $ref: '#/components/parameters/CityId'
        - $ref: '#/components/parameters/ProductId'
        - $ref: '#/components/parameters/ParentGroup'
        - $ref: '#/components/parameters/ShopId'
        - $ref: '#/components/parameters/IsQr'
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Информация о продукте
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: '#/components/schemas/ProductV0'
                  - $ref: '#/components/schemas/ProductV1'
                  - $ref: '#/components/schemas/ProductV2'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /qr:
    get:
      tags:
        - QR-меню
      summary: Информация о QR-меню
      description: Возвращает информацию о QR-меню по заведению
      parameters:
        - in: query
          name: shop_id
          description: Идентификатор заведения
          required: true
          schema:
            type: integer
            example: 1
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          $ref: '#/components/responses/QrPage'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /sitemap:
    get:
      tags:
        - Фиды
      summary: Sitemap
      description: Возращает sitemap сайта
      parameters:
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Sitemap
          content:
            application/xml:
              schema:
                type: array
                xml:
                  name: urlset
                  namespace: https://www.sitemaps.org/schemas/sitemap/0.9
                items:
                  type: object
                  properties:
                    url:
                      type: object
                      properties:
                        loc:
                          type: string
                          description: URL страницы
                          example: https://demo.smartofood.ru/
                        lastmod:
                          type: string
                          description: Дата изменения страницы
                          example: '2024-09-24T11:26:46+03:00'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /feed:
    get:
      tags:
        - Фиды
      summary: YML-фид
      description: Возращает YML-фид магазина
      parameters:
        - in: query
          name: path
          description: Путь до фида
          required: true
          schema:
            type: string
            example: /feed.yml
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: YML-фид
          content:
            application/xml:
              schema:
                type: object
                xml:
                  name: yml_catalog
                properties:
                  date:
                    type: string
                    description: Дата обновления страниц
                    example: 2024-09-24 11:26+0300
                    xml:
                      attribute: true
                  shop:
                    type: object
                    properties:
                      name:
                        type: string
                      company:
                        type: string
                      url:
                        type: string
                        example: https://demo.smartofood.ru
                      platform:
                        type: string
                        example: Smartofood
                      version:
                        type: string
                        example: '1.0'
                      delivery:
                        type: boolean
                        example: true
                      delivery-options:
                        type: object
                        properties:
                          option:
                            type: object
                            properties:
                              cost:
                                type: integer
                                example: 0
                                xml:
                                  attribute: true
                      categories:
                        type: array
                        items:
                          type: object
                          properties:
                            category:
                              type: object
                              properties:
                                id:
                                  type: integer
                                  example: 1
                                  xml:
                                    attribute: true
                                parentId:
                                  type: integer
                                  example: 2
                                  xml:
                                    attribute: true
                      offers:
                        type: array
                        items:
                          type: object
                          properties:
                            offer:
                              type: object
                              properties:
                                id:
                                  type: integer
                                  example: 1
                                  xml:
                                    attribute: true
                                name:
                                  type: string
                                description:
                                  type: string
                                url:
                                  type: string
                                price:
                                  type: integer
                                currencyId:
                                  type: string
                                  example: RUR
                                categoryId:
                                  type: integer
                                picture:
                                  type: string
                                weight:
                                  type: number
        '400':
          $ref: '#/components/responses/BadRequestError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /cart:
    get:
      tags:
        - Корзина
      summary: Корзина
      description: Возвращает корзину
      parameters:
        - $ref: '#/components/parameters/CityId'
        - $ref: '#/components/parameters/UserHash'
        - $ref: '#/components/parameters/IsQr'
        - $ref: '#/components/parameters/ShopId'
        - $ref: '#/components/parameters/TableId'
        - in: query
          name: with_coupon
          description: Вернуть информацию о примененном промокоде
          required: false
          schema:
            type: boolean
            example: false
        - in: query
          name: check_order_available
          description: Проверить возможность размещения заказа
          required: false
          schema:
            type: boolean
            example: false
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Корзина
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Cart'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
    post:
      tags:
        - Корзина
      summary: Добавление продуктов в корзину
      description: Добавляет продукт в корзину
      parameters:
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CartAdd'
      responses:
        '200':
          description: Продукт добавлен
        '400':
          $ref: '#/components/responses/BadRequestError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
    patch:
      tags:
        - Корзина
      summary: Изменение количества продуктов
      description: Изменяет количество продуктов в корзине
      parameters:
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CartChange'
      responses:
        '200':
          description: Количество изменено
        '400':
          $ref: '#/components/responses/BadRequestError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /cart/suggestions:
    get:
      tags:
        - Корзина
      summary: Рекомендации продуктов
      description: Возвращает рекомендации продуктов для корзины
      parameters:
        - $ref: '#/components/parameters/CityId'
        - $ref: '#/components/parameters/UserHash'
        - $ref: '#/components/parameters/IsQr'
        - $ref: '#/components/parameters/ShopId'
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Продукты
          content:
            application/json:
              schema:
                type: object
                required:
                  - items
                  - version
                properties:
                  items:
                    oneOf:
                      - type: array
                        items:
                          $ref: '#/components/schemas/ProductListItemV0'
                      - type: array
                        items:
                          $ref: '#/components/schemas/ProductListItemV1'
                      - type: array
                        items:
                          $ref: '#/components/schemas/ProductListItemV2'
                  version:
                    $ref: '#/components/schemas/MenuVersion'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /cart/coupon:
    post:
      tags:
        - Корзина
      summary: Применение промокода
      description: Применяет промокод
      parameters:
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CouponSet'
      responses:
        '200':
          description: Промокод применен
        '400':
          $ref: '#/components/responses/BadRequestError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
    delete:
      tags:
        - Корзина
      summary: Удаление промокода
      description: Удаляет примененный промокод
      parameters:
        - $ref: '#/components/parameters/CityId'
        - $ref: '#/components/parameters/UserHash'
        - $ref: '#/components/parameters/CouponCode'
        - $ref: '#/components/parameters/IsQr'
        - $ref: '#/components/parameters/ShopId'
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Промокод удален
        '400':
          $ref: '#/components/responses/BadRequestError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /orders:
    post:
      tags:
        - Оформление заказа
      summary: Создание заказа
      description: Создает заказ из подготовленной корзины и возвращает GUID
      security:
        - BearerAuth: [ ]
      parameters:
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateOrderRequest'
      responses:
        '200':
          description: Заказ создан
          content:
            application/json:
              schema:
                type: object
                required:
                  - guid
                properties:
                  guid:
                    $ref: '#/components/schemas/OrderGuid'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
    get:
      tags:
        - Информация о заказах
      summary: Список заказов гостя
      description: Возвращает список заказов гостя
      security:
        - BearerAuth: [ ]
      parameters:
        - $ref: '#/components/parameters/CityId'
        - $ref: '#/components/parameters/PageNumber'
        - $ref: '#/components/parameters/PageLimit'
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Список заказов
          content:
            application/json:
              schema:
                type: object
                required:
                  - list
                properties:
                  list:
                    type: array
                    items:
                      $ref: '#/components/schemas/OrderShort'
                  next:
                    type: integer
                    description: Номер следующей страницы, если она есть
                    example: 1
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /orders/{order_guid}:bindAddress:
    post:
      tags:
        - Оформление заказа
      summary: Адрес доставки/самовывоза
      description: Привязывает к заказу адрес доставки или заведение самовывоза
      security:
        - BearerAuth: [ ]
      parameters:
        - $ref: '#/components/parameters/OrderGuid'
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              oneOf:
                - $ref: '#/components/schemas/OrderDeliveryRequest'
                - $ref: '#/components/schemas/OrderPickupRequest'
      responses:
        '200':
          description: Адрес привязан
        '303':
          description: Во время привязки произошло изменение состава заказа. Какие
            то продукты стали недоступны к заказу или изменились цены или изменилось
            количество продуктов. Необходимо редиректнуть гостя на страницу с корзиной
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - code
                properties:
                  error:
                    type: string
                    example: Цены некоторых продуктов изменились
                  code:
                    type: integer
                    example: 303
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /orders/{order_guid}:pay:
    post:
      tags:
        - Оформление заказа
      summary: Оплата заказа
      description: Инициализирует или производит оплату
      security:
        - BearerAuth: [ ]
      parameters:
        - $ref: '#/components/parameters/OrderGuid'
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PaymentInitRequest'
      responses:
        '200':
          description: Оплата инициализированна/произведена
          content:
            application/json:
              schema:
                type: object
                required:
                  - completed
                properties:
                  completed:
                    $ref: '#/components/schemas/PaymentCompleted'
                  payment:
                    $ref: '#/components/schemas/OnlinePayment'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /orders/{order_guid}:confirmPay:
    post:
      tags:
        - Оформление заказа
      summary: Подтвержение оплаты заказа
      description: Подтверждает оплату заказа виджетом
      security:
        - BearerAuth: [ ]
      parameters:
        - $ref: '#/components/parameters/OrderGuid'
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PaymentConfirmRequest'
      responses:
        '200':
          description: Оплата произведена
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /orders/{order_guid}:view:
    post:
      tags:
        - Оформление заказа
      summary: Отметка о просмотре заказа
      description: Отмечает заказ просмотренным гостем и возвращает данные об электронной
        коммерции для отправки в Яндекс.Метрику и Google Analitycs
      security:
        - BearerAuth: [ ]
      parameters:
        - $ref: '#/components/parameters/OrderGuid'
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Возвращает данные об электронной коммерции только один раз
          content:
            application/json:
              schema:
                type: object
                description: Данные об электронной коммерции
                required:
                  - ecommerce
                properties:
                  ecommerce:
                    $ref: '#/components/schemas/EcommerceStruct'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /orders/{order_guid}:tips:
    post:
      tags:
        - Оформление заказа
      summary: Оплата чаевых
      description: Создает оплату чаевых и возвращает ссылку на форму оплаты
      security:
        - BearerAuth: [ ]
      parameters:
        - $ref: '#/components/parameters/OrderGuid'
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - tips
              properties:
                tips:
                  type: array
                  items:
                    type: object
                    description: Блок чаевых
                    required:
                      - team_id
                      - recipient_id
                      - sum
                    properties:
                      team_id:
                        type: integer
                        description: Идентификатор команды
                        example: 1
                      recipient_id:
                        type: integer
                        description: Идентификатор получателя
                        example: 1
                      sum:
                        type: string
                        description: Сумма чаевых в рублях
                        example: 100
                reimbursement:
                  type: boolean
                  description: Гость компенсирует транзакционные издержки
                  default: false
                  example: true
      responses:
        '200':
          description: Возвращает ссылку на форму оплаты
          content:
            application/json:
              schema:
                type: object
                required:
                  - url
                properties:
                  url:
                    type: string
                    description: Ссылка на форму оплаты
                    example: https://stage-merch.tochka.com/order/?uuid=9df0734a-5568-4670-8485-be5999cab8d2
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /orders/{order_guid}:repeat:
    post:
      tags:
        - Оформление заказа
      summary: Повторение заказа
      description: Добавляет указаный заказ в корзину
      security:
        - BearerAuth: [ ]
      parameters:
        - $ref: '#/components/parameters/OrderGuid'
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RepeatOrderRequest'
      responses:
        '200':
          description: Заказ добавлен в корзину
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /orders/{order_guid}:review:
    post:
      tags:
        - Оформление заказа
      summary: Отзыв на заказ
      description: Добавление отзыва к заказу
      security:
        - BearerAuth: [ ]
      parameters:
        - $ref: '#/components/parameters/OrderGuid'
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReviewOrderRequest'
      responses:
        '200':
          description: Отзыв добавлен
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /orders/reviews-media:
    post:
      tags:
        - Оформление заказа
      summary: Изображения для отзыва
      description: Добавление изображений для отзывов
      security:
        - BearerAuth: [ ]
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ReviewMediaRequest'
      responses:
        '200':
          description: Изображения загружены
          content:
            application/json:
              schema:
                type: object
                required:
                  - media
                properties:
                  media:
                    type: array
                    description: Ссылки на изображения с идентификаторами
                    items:
                      type: object
                      required:
                        - id
                        - url
                      properties:
                        id:
                          type: integer
                          description: Идентификатор изображения
                          example: 1
                        url:
                          type: string
                          description: Ссылка на изображение
                          example: https://s3.smartofood.ru/demo/reviews/f8342bd1-0068-4332-aa63-36f447617c4e.webp
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /orders/active:
    get:
      tags:
        - Информация о заказах
      summary: Активные заказы гостя
      description: Возвращает список идентификаторов активных заказов гостя
      security:
        - BearerAuth: [ ]
      parameters:
        - $ref: '#/components/parameters/CityId'
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Список идентификаторов - последний заказ сверху
          content:
            application/json:
              schema:
                type: object
                required:
                  - list
                properties:
                  list:
                    type: array
                    items:
                      type: string
                      example: 9dd2d0e1-0b27-4fa5-8052-cafc12f2b52f
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /orders/ontime-list:
    get:
      tags:
        - Информация о заказах
      summary: Список доступных часов для заказа на время
      description: При передаче параметра city_id - возвращает доступные часы для
        заказа доставки на время указанного города, при передаче shop_id - возвращает
        доступные часы для заказа самовывоза на время указанного заведения
      security:
        - BearerAuth: [ ]
      parameters:
        - in: query
          name: city_id
          description: Идентификатор города
          required: false
          schema:
            type: integer
            example: 1
        - in: query
          name: shop_id
          description: Идентификатор заведения
          required: false
          schema:
            type: integer
            example: 1
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Список доступных часов, если null - заказ на время недоступен
          content:
            application/json:
              schema:
                type: object
                required:
                  - list
                properties:
                  list:
                    type: object
                    description: Список доступных часов для заказа на время
                    nullable: true
                    properties:
                      '':
                        type: string
                        description: Возможен прием заказа на текущее время
                        example: 'Ближайшее'
                      '2024-10-25 15:45:00':
                        type: string
                        description: Доступное время заказа на время
                        example: 25.10.2024, 15:45
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /orders/reviews-presets:
    get:
      tags:
        - Информация о заказах
      summary: Список доступных пресетов для отзыва заказа
      security:
        - BearerAuth: [ ]
      parameters:
        - in: query
          name: order_type
          description: Тип заказа
          required: true
          schema:
            type: string
            example: delivery
            enum:
              - delivery
              - pickup
              - table
        - in: query
          name: rating
          description: Оценка (от 1 до 5)
          required: true
          schema:
            type: integer
            example: '5'
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Список доступных пресетов
          content:
            application/json:
              schema:
                type: object
                required:
                  - presets
                properties:
                  presets:
                    type: array
                    description: Список доступных пресетов
                    items:
                      type: string
                      example: Все вкусно
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /orders/{order_guid}:
    get:
      tags:
        - Информация о заказах
      summary: Информация о заказе гостя
      description: Возвращает информацию о заказе гостя
      security:
        - BearerAuth: [ ]
      parameters:
        - $ref: '#/components/parameters/OrderGuid'
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Информация о заказе
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Order'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /orders/{order_guid}/status:
    get:
      tags:
        - Информация о заказах
      summary: Информация о статусе заказа
      description: Возвращает информацию о статусе заказа гостя
      security:
        - BearerAuth: [ ]
      parameters:
        - $ref: '#/components/parameters/OrderGuid'
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Информация о статусе заказа
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderStatusInfo'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /orders/{order_guid}/active-tables:
    get:
      tags:
        - Информация о заказах
      summary: Активные столы заказа
      description: Возвращает информацию о доступных столах для заказа
      security:
        - BearerAuth: [ ]
      parameters:
        - $ref: '#/components/parameters/OrderGuid'
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Информация о столах
          content:
            application/json:
              schema:
                type: object
                required:
                  - tables
                properties:
                  tables:
                    type: array
                    description: Список доступных столов
                    items:
                      $ref: '#/components/schemas/TableItem'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /orders/{order_guid}/available-places:
    get:
      tags:
        - Информация о заказах
      summary: Доступные места заказа
      description: Возвращает информацию о доступных адресах доставки и заведениях
        самовывоза для заказа
      security:
        - BearerAuth: [ ]
      parameters:
        - $ref: '#/components/parameters/OrderGuid'
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Информация о местах
          content:
            application/json:
              schema:
                type: object
                required:
                  - addrs
                  - shops
                properties:
                  addrs:
                    type: array
                    description: Список доступных адресов доставки гостя
                    items:
                      $ref: '#/components/schemas/AddrItem'
                  shops:
                    type: array
                    description: Список доступных заведений для самовывоза
                    items:
                      $ref: '#/components/schemas/PickupItem'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /orders/{order_guid}/delivery-params:
    get:
      tags:
        - Информация о заказах
      summary: Параметры доставки для заказа
      description: Возвращает параметры доставки для заказа по адресу
      security:
        - BearerAuth: [ ]
      parameters:
        - $ref: '#/components/parameters/OrderGuid'
        - in: query
          name: address
          description: Адрес доставки
          required: true
          schema:
            type: string
            example: 127642, г Москва, ул Сухонская, д 11, кв 89
        - in: query
          name: on_time
          description: Доставка на время
          required: false
          schema:
            type: string
            example: '2024-10-25 14:30:00'
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Параметры доставки
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeliveryParam'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
  /orders/{order_guid}/tip-options:
    get:
      tags:
        - Информация о заказах
      summary: Информация о чаевых
      description: Возвращает информацию о командах и получателях чаевых (только в
        России)
      security:
        - BearerAuth: [ ]
      parameters:
        - $ref: '#/components/parameters/OrderGuid'
        - $ref: '#/components/parameters/Lang'
        - $ref: '#/components/parameters/UserAgent'
      responses:
        '200':
          description: Информация о командах и получателях чаевых
          content:
            application/json:
              schema:
                type: object
                required:
                  - payment_state
                  - payment_available
                  - unavailable_reason
                  - teams
                properties:
                  payment_state:
                    type: string
                    nullable: true
                    description: Состояние инициированного платежа, null - если платеж
                      еще не был инициирован
                    example: waiting
                    enum:
                      - waiting
                      - finished
                      - failed
                  payment_available:
                    type: boolean
                    description: Оплата возможна при текущем статусе заказа
                    example: true
                  unavailable_reason:
                    type: string
                    description: Причина запрета на оплату при текущем статусе заказа
                      для отображения на странице
                    example: чаевые можно оставить после доставки
                  teams:
                    type: array
                    nullable: true
                    description: Доступные команды для выплаты чаевых, если null -
                      чаевые для заказа недоступны
                    items:
                      type: object
                      required:
                        - id
                        - type
                        - label
                        - recipient
                        - presets
                        - manual_allowed
                        - payment_available
                        - unavailable_reason
                        - selected
                      properties:
                        id:
                          type: integer
                          description: Идентификатор команды
                          example: 1
                        type:
                          type: string
                          description: Тип команды
                          example: delivery
                          enum:
                            - delivery
                        label:
                          type: string
                          description: Лейбл команды для отображения на странице
                          example: Курьеры
                        recipient:
                          type: object
                          description: Получатель чаевых
                          required:
                            - id
                            - name
                          properties:
                            id:
                              type: integer
                              description: Идентификатор получателя
                              example: 1
                              nullable: true
                            name:
                              type: string
                              description: Имя получателя для отображения на странице
                              example: Константин Константинопольский
                        presets:
                          type: array
                          description: Список доступных пресетов для сумм оплаты чаевых
                          items:
                            type: object
                            required:
                              - sum
                              - label
                              - percent
                            properties:
                              sum:
                                type: string
                                description: Сумма оплаты в рублях
                                example: 50
                              label:
                                type: string
                                description: Сумма оплаты со знаком рубля
                                example: 50 ₽
                              percent:
                                type: string
                                description: Процент от суммы заказа (если применим)
                                nullable: true
                                example: 5 %
                              selected:
                                type: boolean
                                description: Вариант по умолчанию
                                example: true
                        manual_allowed:
                          type: boolean
                          description: Разрешен ручной ввод суммы оплаты (не меньше
                            10 рублей)
                          example: true
                        selected:
                          type: boolean
                          description: Команда по умолчанию
                          example: true
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          $ref: '#/components/responses/PaymentRequiredError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '423':
          $ref: '#/components/responses/LockedError'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailableError'
components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  parameters:
    PageId:
      in: path
      name: page_id
      description: Id страницы
      required: true
      schema:
        type: integer
        example: 1
    OrderGuid:
      in: path
      name: order_guid
      description: Идентификатор заказа
      required: true
      schema:
        type: string
        example: db5f099b-fe46-412f-af83-b76ee2bb77c1
    CityId:
      in: query
      name: city_id
      description: Идентификатор города
      required: true
      schema:
        type: integer
        example: 1
    PageType:
      in: query
      name: type
      description: Тип страницы
      schema:
        type: string
        enum:
          - main
          - group
          - text
        example: main
    WindowWidth:
      in: query
      name: window_width
      description: Ширина экрана пользователя
      schema:
        type: integer
        example: 1024
    Path:
      in: query
      name: path
      description: Путь страницы
      required: true
      schema:
        type: string
        example: /
    Query:
      in: query
      name: query
      description: Поисковой запрос
      required: true
      schema:
        type: string
        minLength: 2
    StreetId:
      in: query
      name: street_id
      description: Идентификатор улицы (КЛАДР или внутренний)
      required: false
      schema:
        type: string
        example: 77000000000225300
    PlaceId:
      in: query
      name: place_id
      description: Идентификатор места
      required: true
      schema:
        type: string
        example: ChIJHUk7Zlk0tUYRXL0A-_ggV8E
    Session:
      in: query
      name: session
      description: Сессия запросов
      required: false
      schema:
        type: string
        example: f24f8af3-cb49-43f9-9490-cd11264c626f
    ShopId:
      in: query
      name: shop_id
      description: Идентификатор заведения
      required: false
      schema:
        type: integer
        example: 1
    UserHash:
      in: query
      name: user_hash
      required: true
      description: Уникальный MD5-хеш клиента (браузера)
      schema:
        type: string
        example: cfcd208495d565ef66e7dff9f98764da
    TableId:
      in: query
      name: table_id
      description: Идентификатор стола
      required: false
      schema:
        type: string
        example: f24f8af3-cb49-43f9-9490-cd11264c626f
    EntityId:
      in: query
      name: entity_id
      description: Идентификатор сущности
      required: true
      schema:
        type: string
        example: f24f8af3-cb49-43f9-9490-cd11264c626f
    ProductId:
      in: query
      name: product_id
      description: Идентификатор продукта
      required: true
      schema:
        type: string
        example: 1d782faa-05f0-4056-8d5a-5d5aa0ea752c
    ParentGroup:
      in: query
      name: parent_group
      description: Идентификатор родительской группы продукта
      required: true
      schema:
        type: string
        example: e3c8629e-c0d2-4bec-b953-e4641937578c
    PageNumber:
      in: query
      name: page
      description: Номер страницы
      required: true
      schema:
        type: integer
        example: 1
    PageLimit:
      in: query
      name: limit
      description: Количество элементов на странице
      required: false
      schema:
        type: integer
        example: 1
        minimum: 1
        maximum: 50
    IsQr:
      in: query
      name: is_qr
      description: Выдача для QR-меню
      required: true
      schema:
        type: boolean
        example: false
    CouponCode:
      in: query
      name: code
      description: Промокод
      required: true
      schema:
        type: string
        example: VESNA24
    Lang:
      in: header
      name: X-Lang
      schema:
        type: string
        enum:
          - ru
          - kk
          - en
          - es
        example: ru
      description: Заголовок для указания языка ответа
      required: false
    UserAgent:
      in: header
      name: User-Agent
      schema:
        type: string
      required: true
  schemas:
    MobileGridType:
      type: string
      description: 'Тип карточки мобильной сетки: вертикальная (один и два в ряд) и горизонтальная'
      example: vertical_one
      enum:
        - vertical_one
        - vertical_two
        - horizontal
      x-since-version: '4.2.0'
    MobileGridStyle:
      type: string
      description: 'Стиль карточки мобильной сетки: с фоном и без'
      example: with_background
      enum:
        - with_background
        - without_background
      x-since-version: '4.2.0'
    MobileGridProportion:
      type: string
      description: 'Пропорции изображения мобильной сетки: горизонтальные, квадратные и вертикальные'
      example: horizontal
      enum:
        - horizontal
        - square
        - vertical
      x-since-version: '4.2.0'
    MobileGridDescription:
      type: boolean
      description: Описание в мобильной сетке
      example: true
      x-since-version: '4.2.0'
    MobileGridImage:
      type: boolean
      description: Изображение в мобильной сетке
      example: true
      x-since-version: '4.2.0'
    MobileGrid:
      type: object
      description: Мобильная сетка
      properties:
        type:
          $ref: '#/components/schemas/MobileGridType'
        style:
          $ref: '#/components/schemas/MobileGridStyle'
        description:
          $ref: '#/components/schemas/MobileGridDescription'
        image:
          $ref: '#/components/schemas/MobileGridImage'
        proportion:
          $ref: '#/components/schemas/MobileGridProportion'
    TgInitData:
      type: string
      description: Строка window.Telegram.WebApp.initData
      example: query_id=AAHMHzIEAAAAAMwfMgQHh6PM&user=%7B%22id%22%3A70393804%2C%22first_name%22%3A%22Dmitry%22
    Password:
      type: string
      description: Текущий пароль
      example: password1
    NewPassword:
      type: string
      description: 'Новый пароль: 6 и более символов, минимум 1 цифра, минимум 1 буква'
      example: password1
    GuestName:
      type: string
      description: Имя гостя
    GuestBDay:
      type: string
      description: День рождения гостя в формате ММДД или ГГГГММДД
      example: '19870401'
    UserHash:
      type: string
      description: Уникальный MD5-хеш клиента (браузера)
      example: cfcd208495d565ef66e7dff9f98764da
    ComboHash:
      type: string
      description: Уникальный MD5-хеш элемента корзины со всеми модификаторами
      example: 86959e7af73baf96353ccc26168e4187
    SectionId:
      type: string
      description: Идентификатор зала
      example: f24f8af3-cb49-43f9-9490-cd11264c626f
    TableId:
      type: string
      description: Идентификатор стола
      example: f24f8af3-cb49-43f9-9490-cd11264c626f
    TableNumber:
      type: integer
      description: Номер стола
      example: 1
    TableAddr:
      type: string
      description: Адрес стола
      example: Главный зал, Стол 1
    CityId:
      type: integer
      description: Идентификатор города
      example: 1
    CityFolder:
      type: string
      description: Корневая папка города
      example: moscow
    CityName:
      type: string
      description: Название города
      example: Москва
    KladrId:
      type: string
      description: Идентификатор улицы КЛАДР
      example: 72000001000028700
    PlaceId:
      type: string
      description: Идентификатор места Google
      example: ChIJHUk7Zlk0tUYRXL0A-_ggV8E
    District:
      type: string
      description: Район
    Street:
      type: string
      description: Улица
      example: Сухонская
    House:
      type: string
      description: Дом
      example: 11
    Apartment:
      type: string
      description: Квартира
      example: 36
    Entrance:
      type: string
      description: Подъезд
      example: 2
    Floor:
      type: string
      description: Этаж
      example: 7
    Doorphone:
      type: string
      description: Код домофона
      example: 3636
    PersonsCount:
      type: integer
      description: Количество персон
      example: 1
    Addr:
      type: string
      description: Полный адрес
      example: 127642, г Москва, ул Сухонская, д 11, кв 89
    AddrStreet:
      type: string
      description: Улица с домом при использовании Google Places
      example: Сухонская, д 11
    AddrHash:
      type: string
      description: Хэш полного адреса
      example: ca3e5dd23d139f712943eb3c2dc26c90
    FormattedAddress:
      type: string
      description: Отформатированный адрес
      example: Москва, Сухонская, 11
    AddrLat:
      type: number
      description: Широта адреса
      nullable: true
      example: 55.878315
    AddrLon:
      type: number
      description: Долгота адреса
      nullable: true
      example: 37.65372
    OrderBankName:
      type: string
      description: Название банка или платежной системы, которая будет использована
        при онлайн-оплате
      example: Точка Банк
    OrderComment:
      type: string
      description: Комментарий к заказу
    OrderCreated:
      type: string
      description: Отфоматированная дата и время создания заказа в московском часовом
        поясе
      example: 23.10.2024, 14:59
    OrderCreatedLocal:
      type: string
      description: Отфоматированная дата и время создания заказа в часовом поясе города
        заказа
      example: 23.10.2024, 16:59
    OrderCreatedLocalShort:
      type: string
      description: Время создания заказа в часовом поясе города заказа
      example: '16:59'
    OrderOnTime:
      type: string
      description: Отфоматированная дата и время заказа на время в московском часовом
        поясе
      example: 23.10.2024, 18:00
    OrderOnTimeLocal:
      type: string
      description: Отфоматированная дата и время заказа на время в часовом поясе города
        заказа
      example: 23.10.2024, 20:00
    OrderOnTimeRaw:
      type: string
      description: Дата и время заказа на время в московском часовом поясе
      example: '2024-10-23 18:00:00'
    OrderOnTimeLocalRaw:
      type: string
      description: Дата и время заказа на время в часовом поясе города заказа
      example: '2024-10-23 20:00:00'
    OrderOnTimeShort:
      type: string
      description: Время заказа на время в московском часовом поясе
      example: '18:00'
    OrderOnTimeLocalShort:
      type: string
      description: Время заказа на время в часовом поясе города заказа
      example: '20:00'
    OrderCreatedIso:
      type: string
      description: Дата и время создания заказа ISO 8601
      example: '2024-10-23T14:59:32+03:00'
    OrderStatus:
      type: string
      description: Статус заказа
      example: accepted
      enum:
        - ''
        - payment_awaiting
        - payment_failed
        - accepted
        - progress
        - completed
        - ready
        - delivery
        - delivered
        - closed
        - canceled
    OrderStatusName:
      type: string
      description: Описание статуса заказа
      example: Принят
    OrderType:
      type: string
      description: Тип заказа
      example: delivery
      enum:
        - ''
        - delivery
        - pickup
        - table
    OrderTypeName:
      type: string
      description: Описание типа заказа
      example: Доставка
    OnlinePaymentType:
      type: string
      description: Тип инициализации оплаты
      example: redirect
      enum:
        - redirect
        - widget
    PaymentType:
      type: string
      description: Тип оплаты заказа
      example: cash
      enum:
        - ''
        - cash
        - card
        - online
    PaymentTypeName:
      type: string
      description: Описание типа оплаты заказа
      example: Наличные
    PaymentStatus:
      type: string
      description: Статус оплаты заказа
      example: inited
      enum:
        - ''
        - inited
        - fail
        - success
        - refunded
    PaymentStatusName:
      type: string
      description: Описание статуса оплаты заказа
      example: Наличные
    PaymentCompleted:
      type: boolean
      description: Флаг завершения оплаты. Если true, значит заказ успешно размещен,
        если false, требуется онлайн-оплата.
      example: false
    PaymentUrl:
      type: string
      description: URL редиректа на оплату
      example: https://alfabank.rbsuat.com/payment/merchants/rbs/payment_ru.html?mdOrder=5b685253-d697-7cae-9a76-763400caa301
    PaymentMerchant:
      type: string
      description: Мерчант оплаты
      example: yookassa
    PaymentMerchantName:
      type: string
      description: Название мерчанта оплаты
      example: ЮKassa
    LoyaltyCan:
      type: string
      description: Количество бонусов лояльности доступных для оплаты с валютой
      example: 300 ₽
    LoyaltyCanRaw:
      type: string
      description: Количество бонусов лояльности доступных для оплаты в валюте сайта
      example: '300.00'
    LoyaltyBonus:
      type: string
      description: Сумма оплаты заказа бонусами лояльности с валютой
      example: 300 ₽
    LoyaltyBonusRaw:
      type: string
      description: Сумма оплаты заказа бонусами лояльности в валюте сайта
      example: '300.00'
    LoyaltyDiscount:
      type: string
      description: Сумма примененных к заказу скидок лояльности с валютой
      example: 100 ₽
    LoyaltyDiscountRaw:
      type: string
      description: Сумма примененных к заказу скидок лояльности в валюте сайта
      example: '100.00'
    CouponDiscount:
      type: string
      description: Сумма примененных к заказу скидок по промокоду с валютой
      example: 100 ₽
    CouponDiscountRaw:
      type: string
      description: Сумма примененных к заказу скидок по промокоду в валюте сайта
      example: '100.00'
    ShopId:
      type: integer
      description: Идентификатор заведения
      nullable: true
      example: 1
    ZoneId:
      type: integer
      description: Идентификатор зоны доставки
      nullable: true
      example: 1
    ShopName:
      type: string
      description: Название заведения
      example: Москва-1
    GuestId:
      type: integer
      description: Идентификатор гостя
      example: 1
    InputPhone:
      type: string
      description: Номер телефона в любом формате
      example: +1 234 555-01-01
    SecResponse:
      type: string
      description: Токен Yandex SmartCaptcha
    AuthPromo:
      type: boolean
      description: Пользователь согласился на рекламные рассылки
      example: true
    AuthPrivacy:
      type: boolean
      description: Пользователь принял условия политики и оферту
      example: true
    AuthResend:
      type: boolean
      description: Повторная отправка кода
      example: false
    AuthCode:
      type: string
      description: Четырехзначный код из смс или номера телефона
      example: '0000'
    Id:
      type: integer
      description: Идентификатор
      example: 1
    Guid:
      type: string
      description: Глобально уникальный идентификатор
      example: ff3e8620-a1bd-44f9-8784-661bb12317d7
    OrderGuid:
      type: string
      description: Глобально уникальный идентификатор заказа
      example: ff3e8620-a1bd-44f9-8784-661bb12317d7
    DeliveryGuid:
      type: string
      description: Глобально уникальный идентификатор блюда доставки
      example: ff3e8620-a1bd-44f9-8784-661bb12317d7
    GuestEmail:
      type: string
      description: Электропочта гостя
      example: email@pochta.ru
    GuestPhone:
      type: string
      description: Телефон гостя
      example: 12345550101
    GuestPhoneFormatted:
      type: string
      description: Отформатированный телефон гостя
      example: +1 234 555-01-01
    EntityId:
      type: string
      description: Guid связаной сущности
      example: ff3e8620-a1bd-44f9-8784-661bb12317d7
    CompoundEntityId:
      type: string
      description: Guid связаной сущности. Первое значение guid продукта, второе -
        guid родительской группы продукта
      example: ff3e8620-a1bd-44f9-8784-661bb12317d7|ff3e8620-a1bd-44f9-8784-661bb12317d7
    PageId:
      type: integer
      description: Идентификатор страницы
      example: 1
    CouponId:
      type: integer
      description: Идентификатор промокода
      example: 1
      nullable: true
    RequestPageType:
      type: string
      description: Тип страницы
      enum:
        - main
        - group
        - product
        - offers
        - text
        - link
        - redirect
        - file
        - privacy
        - public_offer
        - personal_data
        - promo_materials
        - cookie_policy
      example: group
    PageType:
      type: string
      description: Тип страницы
      enum:
        - main
        - group
        - product
        - offers
        - text
        - link
        - redirect
        - file
      example: group
    PageName:
      type: string
      description: Название страницы для отображения в меню
      example: Роллы
    PagePath:
      type: string
      description: Относительный путь до страницы
      example: /moscow/rolls
    NoIndex:
      type: boolean
      description: Запрет индексации страницы
      example: false
    NoFollow:
      type: boolean
      description: Запрет следования по ссылкам
      example: false
    IsPrivacy:
      type: boolean
      description: Страница политики конфиденциальности
      example: false
    IsPublicOffer:
      type: boolean
      description: Страница публичной оферты
      example: false
    IsPersonalData:
      type: boolean
      description: Согласие на обработку персональных данных
      example: false
    IsPromoMaterials:
      type: boolean
      description: Согласие на рекламную информацию
      example: false
    IsCookiePolicy:
      type: boolean
      description: Политика в отношении файлов cookie
      example: false
    PageFolder:
      type: string
      description: Папка страницы
      example: rolls
    PageUrl:
      type: string
      description: Полный путь до страницы
      example: https://demo.smartofood.ru/moscow/rolls
    PageSelected:
      type: boolean
      description: Страница выбрана
      example: true
    PageFinal:
      type: boolean
      description: Максимальная глубина пути
      example: true
    ImageAlt:
      type: string
      description: Alt-тег для изображения
    ImageWidth:
      type: integer
      description: Ширина изображения
      example: 800
    ImageHeight:
      type: integer
      description: Высота изображения
      example: 600
    ImageLink:
      type: string
      description: Ссылка для перехода по нажатию на изображение
      example: https://demo.smartofood.ru/moscow/rolls
    IsLocalLink:
      type: boolean
      description: Ссылка для перехода по нажатию на изображение является локальной
      example: true
    Place:
      type: integer
      description: Порядковая позиция
      example: 0
    Priority:
      type: integer
      description: Порядковая позиция (приоритет)
      example: 0
    ImageUrl:
      type: string
      description: Ссылка на изображение
      example: https://s3.smartofood.ru/demo/images/f8342bd1-0068-4332-aa63-36f447617c4e.webp
    TimeZone:
      type: string
      description: Часовой пояс
      example: Europe/Moscow
    IsOpen:
      type: boolean
      description: Рабочее время (открыто)
      example: true
    WorkingTime:
      type: string
      description: Время работы сегодня
      example: 09:00 — 23:00
    OpenTime:
      type: string
      description: Время открытия сегодня
      nullable: true
      example: 09:00
    CloseTime:
      type: string
      description: Время закрытия сегодня
      nullable: true
      example: '23:00'
    DeliveryPrice:
      type: string
      description: Стоимость доставки с валютой
      example: 150 ₽
    FreeDelivery:
      type: string
      description: Бесплатная доставка от суммы с валютой
      example: 1 500 ₽
    MinimumOrder:
      type: string
      description: Минимальная сумма заказа с валютой
      example: 300 ₽
    DeliveryPriceRaw:
      type: string
      description: Стоимость доставки в валюте сайта
      example: '150.00'
    FreeDeliveryRaw:
      type: string
      description: Бесплатная доставка от суммы в валюте сайта
      example: '1500.00'
    FreeDeliveryLeftRaw:
      type: string
      description: Необходимо добавить для бесплатной доставки
      example: '738.00'
    MinimumOrderRaw:
      type: string
      description: Минимальная сумма заказа в валюте сайта
      example: '300.00'
    ProductId:
      type: string
      description: Идентификатор продукта
      example: cbdefc34-4d2f-4fb1-971b-5e77df26f904
    HalfId:
      type: string
      description: Идентификатор половинки продукта
      example: 333d3478-8f05-45a7-a7c6-d79e64ab31b0
    ParentGroup:
      type: string
      description: Родительская группа продукта
      example: 40f48a10-0cbd-4d66-a5e8-64370c878d66
    GroupId:
      type: string
      description: Группа модификаторов
      example: 1661c9f4-166c-4929-afd3-7e39ea203767
    GroupName:
      type: string
      description: Название группы модификаторов
    ModifierId:
      type: string
      description: Идентификатор модификатора
      example: 6b0237db-a646-4e9d-bf7b-0bf665c9a6dc
    ProductName:
      type: string
      description: Название продукта
    HalfName:
      type: string
      description: Название половинки продукта
    ProductFullName:
      type: string
      description: Полное название продукта с половинкой
    ProductDescription:
      type: string
      description: Описание продукта
    GroupSaleHidden:
      type: boolean
      description: Скрывать продукт при ограничении продаж группы
      example: false
    IsLimitedHidden:
      type: boolean
      description: Скрывать продукт при ограничении продаж
      example: false
    IsGroupLimited:
      type: boolean
      description: Продажи ограничены по времени для группы
      example: false
    IsSalesLimited:
      type: boolean
      description: Продажи ограничены по времени для продукта
      example: false
    IsSimple:
      type: boolean
      description: Простой продукт (нет допов, цена не меняется)
      example: true
    IsReadonly:
      type: boolean
      description: Продукт недоступен для заказа онлайн
      example: false
    IsStopped:
      type: boolean
      description: Продукт в стоп-листе
      example: false
    IsPopular:
      type: boolean
      description: Популярный продукт
      example: false
    InSuggest:
      type: boolean
      description: Продукт в подсказках
      example: false
    ProductOriginPrice:
      type: string
      description: Исходная стоимость продукта без модификаторов с валютой
      example: 550 ₽
    ProductOriginPriceRaw:
      type: string
      description: Исходная стоимость продукта без модификаторов в валюте сайта
      example: '550.00'
    ProductPrice:
      type: string
      description: Цена с валютой
      example: 200 ₽
    ProductMinPrice:
      type: string
      description: Минимально возможная цена с валютой
      example: 200 ₽
    ProductPriceRaw:
      type: string
      description: Цена в валюте сайта
      example: '200.00'
    ProductMinPriceRaw:
      type: string
      description: Минимально возможная цена продукта в валюте сайта
      example: '200.00'
    ProductRegularPrice:
      type: string
      description: Зачеркнутая стоимость продукта с валютой
      example: 0 ₽
    ProductRegularPriceRaw:
      type: string
      description: Зачеркнутая стоимость продукта в валюте сайта
      example: '0.00'
    ProductWeight:
      type: string
      description: Вес с обозначением еденицы измерения
      example: 250 г
    ProductMinWeight:
      type: string
      description: Минимально возможный вес продукта с обозначением еденицы измерения
      example: 250 г
    ProductWeightRaw:
      type: string
      description: Вес в килограммах
      example: '0.250'
    ProductMinWeightRaw:
      type: string
      description: Минимально возможный вес продукта в килограммах
      example: '0.250'
    DefaultWeight:
      type: string
      description: Вес продукта с модификаторами по умолчанию с обозначением еденицы
        измерения
      example: 150 г
    DefaultWeightRaw:
      type: string
      description: Вес продукта с модификаторами по умолчанию в килограммах
      example: '0.150'
    DefaultPrice:
      type: string
      description: Цена продукта с модификаторами по умолчанию с валютой
      example: 191 ₽
    DefaultPriceRaw:
      type: string
      description: Цена продукта с модификаторами по умолчанию в валюте сайта
      example: '191.00'
    GroupSale:
      type: boolean
      description: Продажа продуктов группы в текущее время разрешено
      example: true
    GroupSaleTime:
      type: string
      description: Разрешенное время продажи продуктов группы
      example: 09:00 — 23:00
    IsSale:
      type: boolean
      description: Продажа продукта в текущее время разрешено
      example: true
    SalesTime:
      type: string
      description: Разрешенное время продажи продукта
      example: 09:00 — 23:00
    HaveOptions:
      type: boolean
      description: Продажа продукта в текущее время разрешено
      example: true
    DefaultEnough:
      type: boolean
      description: Продукт готов к добавлению в корзину с модификаторами по умолчанию
      example: true
    PaidModifiersExists:
      type: boolean
      description: В продукте есть платые модификаторы
      example: true
    DifferentSizesExists:
      type: boolean
      description: В продукте есть разные размеры
      example: true
    OnlySizeId:
      type: string
      description: Единственный размер продукта
      nullable: true
      example: 26974aba-316f-d171-0192-d1ec6143091b
    IsProhibited:
      type: boolean
      description: Продажа продукта запрещена (не показывать)
      example: true
    SizeId:
      type: string
      description: Идентификатор размера продукта
      example: cbdefc34-4d2f-4fb1-971b-5e77df26f904
    SizeName:
      type: string
      description: Название размера продукта
    DefaultSize:
      type: boolean
      description: Стандартный размер продукта
      example: true
    ProductHalfPrice:
      type: string
      description: Цена половинки с валютой
      example: 100 ₽
    ProductHalfPriceRaw:
      type: string
      description: Цена половинки в валюте сайта
      example: '100.00'
    RequiredModifier:
      type: boolean
      description: Обязательный модификатор/группа модификатора
      example: true
    IsSplittable:
      type: boolean
      description: Разделяемая на половинки сущность
      example: true
    MinModifier:
      type: integer
      description: Минимальное количество модификатора/группы
      example: 0
    MaxModifier:
      type: integer
      description: Максимальное количество модификатора/группы
      example: 1
    DefaultModifier:
      type: integer
      description: Количество модификаторов по умолчанию
      example: 1
    FreeModifier:
      type: integer
      description: Количество бесплатных модификаторов
      example: 0
    ModifierName:
      type: string
      description: Название модификатора
    Carbohydrate:
      type: string
      description: Количество углеводов на 100 г в формате
      example: 10,0
    CarbohydrateRaw:
      type: string
      description: Количество углеводов на 100 г
      example: '10.000'
    Energy:
      type: string
      description: Количество ккал на 100 г в формате
      example: 170,0
    EnergyRaw:
      type: string
      description: Количество ккал на 100 г
      example: '170.000'
    Fat:
      type: string
      description: Количество жиров на 100 г в формате
      example: 10,0
    FatRaw:
      type: string
      description: Количество жиров на 100 г
      example: '10.000'
    Fiber:
      type: string
      description: Количество белков на 100 г в формате
      example: 10,0
    FiberRaw:
      type: string
      description: Количество белков на 100 г
      example: '10.000'
    MeasureUnit:
      type: string
      description: Обнозначение единиц измерения
      example: шт.
    MeasureUnitRaw:
      type: string
      description: Единицы измерения
      example: pcs
    IsCompound:
      type: boolean
      description: Сложный продукт со схемами модификаторов
      example: true
    IsCompoundItem:
      type: boolean
      description: Сложная позиция с половинками
      example: true
    IsSelector:
      type: boolean
      description: Селекторный модификатор
      example: true
    IndependentQuantity:
      type: boolean
      description: Независимое количество модификаторов от количества блюд
      example: true
    HideIfDefault:
      type: boolean
      description: Не показывать модификатор, если установлено количество по умолчанию
      example: true
    ChildHaveRestrictions:
      type: boolean
      description: Есть ограничения у модификаторов
      example: true
    SchemaId:
      type: string
      description: Идентификатор схемы модификаторов
      example: 019b0733-bf4a-4652-9451-f836188749c3
    SchemaName:
      type: string
      description: Название схемы модификаторов
    MenuVersion:
      type: integer
      description: Версия меню
      enum:
        - 0
        - 1
        - 2
      example: 1
    IsSelectableModifiers:
      type: boolean
      description: Есть модификаторы для выбора
      example: true
    CompoundPrimaryId:
      type: string
      description: Идентификатор первой половинки сложного блюда
      example: c829f899-1027-4d40-8dbe-3584876fb6ee
    CompoundSecondaryId:
      type: string
      description: Идентификатор второй половинки сложного блюда
      example: 333d3478-8f05-45a7-a7c6-d79e64ab31b0
    CompoundPrimaryPrice:
      type: string
      description: Полная цена первой половинки сложного блюда
      example: '500.00'
    CompoundSecondaryPrice:
      type: string
      description: Полная цена второй половинки сложного блюда
      example: '600.00'
    CompoundPrimaryHalfPrice:
      type: string
      description: Полцены первой половинки сложного блюда
      example: '250.00'
    CompoundSecondaryHalfPrice:
      type: string
      description: Полцены второй половинки сложного блюда
      example: '300.00'
    Amount:
      type: integer
      description: Количество
      example: 1
    RegularTotal:
      type: string
      description: Зачеркнутая сумма с валютой
      example: 0 ₽
    RegularTotalRaw:
      type: string
      description: Зачеркнутая сумма в валюте сайта
      example: '0.00'
    Total:
      type: string
      description: Сумма с валютой
      example: 300 ₽
    TotalRaw:
      type: string
      description: Сумма в валюте сайта
      example: '300.00'
    CashChange:
      type: string
      description: Нужна сдача с указанной суммы с валютой
      example: 1000 ₽
    CashChangeRaw:
      type: integer
      description: Нужна сдача с указанной суммы в валюте сайта
      example: 1000
    Discount:
      type: string
      description: Скидка с валютой
      example: 146 ₽
    DiscountRaw:
      type: string
      description: Скидка в валюте сайта
      example: '146.00'
    CartBanReason:
      type: string
      description: Причина блокировки элемента корзины
      example: Продукт временно недоступен для заказа
    CartIsChanged:
      type: boolean
      description: Элемент корзины был изменен системой
      example: true
    CartIsBanned:
      type: boolean
      description: Элемент корзины был заблокирован системой
      example: true
    CartIsMarker:
      type: boolean
      description: Маркерный элемент корзины
      example: true
    CartChangedType:
      type: integer
      description: Тип изменения элемента корзины. 0 - изменений не было, 1 - изменилось
        количество, 2 - изменилась цена
      enum:
        - 0
        - 1
        - 2
      example: 0
    PaySum:
      type: string
      description: Сумма к оплате с валютой
      example: 438 ₽
    PaySumRaw:
      type: string
      description: Сумма к оплате в валюте сайта
      example: '438.00'
    PaySumWithDelivery:
      type: string
      description: Сумма к оплате с доставкой с валютой
      example: 588  ₽
    PaySumWithDeliveryRaw:
      type: string
      description: Сумма к оплате с доставкой в валюте сайта
      example: '588.00'
    SubTotal:
      type: string
      description: Сумма без доставки с валютой
      example: 438 ₽
    SubTotalRaw:
      type: string
      description: Сумма без доставки в валюте сайта
      example: '438.00'
    SumBeforeDelivery:
      type: string
      description: Сумма без доставки с учетом скидок с валютой
      example: 438 ₽
    SumBeforeDeliveryRaw:
      type: string
      description: Сумма без доставки с учетом скидок в валюте сайта
      example: '438.00'
    CompleteDuration:
      type: string
      description: Время выполнения заказа
      example: 30 минут
    CompleteDurationRaw:
      type: integer
      description: Время выполнения заказа в минутах
      example: 30
    CartCount:
      type: integer
      description: Количество продуктов в корзине
      example: 1
    CartOrderOff:
      type: string
      description: Причина невозможности оформить заказа. Если null - можно оформить
        заказ. Работает только с параметром check_order_available
      nullable: true
      example: Прием заказов закончен
    CartShopOff:
      type: boolean
      description: Нет подходящих заведений для размещения заказа QR-меню. Работает
        только с параметрами check_order_available, is_qr и shop_id
      example: false
    CouponCode:
      type: string
      description: Промокод
      example: VESNA24
    IsQr:
      type: boolean
      description: Выдача для QR-меню
      example: false
    IsOrderOnTime:
      type: boolean
      description: Заказ на время
      example: false
    IsViewedByGuest:
      type: boolean
      description: Заказ просмотрен гостем
      example: false
    IsEmptyPaySum:
      type: boolean
      description: Бесплатный заказ
      example: false
    IsCashAvailable:
      type: boolean
      description: Оплата наличными доступна
      example: false
    IsCardAvailable:
      type: boolean
      description: Оплата банковской картой доступна
      example: false
    IsOnlineAvailable:
      type: boolean
      description: Онлайн-оплата доступна
      example: false
    QrOn:
      type: boolean
      description: QR-меню включено
      example: true
    IsDefault:
      type: boolean
      description: Стандартное заведение города
      example: true
    TableOn:
      type: boolean
      description: Размещение заказов в стол доступно
      example: true
    PickupOn:
      type: boolean
      description: Размещение заказов самовывоза доступно
      example: true
    DeliveryOn:
      type: boolean
      description: Размещение заказов доставки доступно
      example: true
    DeliveryMins:
      type: integer
      description: Время выполнения заказа доставки в минутах
      example: 60
    PickupMins:
      type: integer
      description: Время выполнения заказа самовывоза в минутах
      example: 30
    IsCanDelivery:
      type: boolean
      description: Сумма заказа превышает минимальную сумму необходимую для доставки
      example: true
    IsOutOfZones:
      type: boolean
      description: Адрес вне зоны доставки
      example: true
    QrNavItem:
      type: object
      required:
        - name
        - path
        - is_privacy
        - is_public_offer
        - is_personal_data
        - is_promo_materials
        - is_cookie_policy
        - folder
        - url
      properties:
        name:
          $ref: '#/components/schemas/PageName'
        path:
          $ref: '#/components/schemas/PagePath'
        is_privacy:
          $ref: '#/components/schemas/IsPrivacy'
        is_public_offer:
          $ref: '#/components/schemas/IsPublicOffer'
        is_personal_data:
          $ref: '#/components/schemas/IsPersonalData'
        is_promo_materials:
          $ref: '#/components/schemas/IsPromoMaterials'
        is_cookie_policy:
          $ref: '#/components/schemas/IsCookiePolicy'
        folder:
          $ref: '#/components/schemas/PageFolder'
        url:
          $ref: '#/components/schemas/PageUrl'
    NavItem:
      type: object
      required:
        - name
        - type
        - path
        - no_follow
        - is_privacy
        - is_public_offer
        - is_personal_data
        - is_promo_materials
        - is_cookie_policy
        - folder
        - url
        - selected
        - final
      properties:
        entity_id:
          $ref: '#/components/schemas/EntityId'
        name:
          $ref: '#/components/schemas/PageName'
        type:
          $ref: '#/components/schemas/PageType'
        path:
          $ref: '#/components/schemas/PagePath'
        no_follow:
          $ref: '#/components/schemas/NoFollow'
        is_privacy:
          $ref: '#/components/schemas/IsPrivacy'
        is_public_offer:
          $ref: '#/components/schemas/IsPublicOffer'
        is_personal_data:
          $ref: '#/components/schemas/IsPersonalData'
        is_promo_materials:
          $ref: '#/components/schemas/IsPromoMaterials'
        is_cookie_policy:
          $ref: '#/components/schemas/IsCookiePolicy'
        folder:
          $ref: '#/components/schemas/PageFolder'
        url:
          $ref: '#/components/schemas/PageUrl'
        selected:
          $ref: '#/components/schemas/PageSelected'
        final:
          $ref: '#/components/schemas/PageFinal'
    NavImages:
      type: object
      description: Изображения для групп, ключ - guid группы
      additionalProperties:
        type: string
      example:
        f08451c9-1900-4aa2-a345-09b89cf235f2: https://s3.smartofood.ru/demo/menu/f08451c9-1900-4aa2-a345-09b89cf235f2.jpg
    NavHours:
      type: object
      description: Время работы для групп, ключ - guid группы
      additionalProperties:
        type: object
        properties:
          is_sale:
            type: boolean
            description: Продажы доступны для группы сейчас
            example: false
          is_sales_limited:
            type: boolean
            description: Включено ограничение продажи по времени
            example: true
          is_limited_hidden:
            type: boolean
            description: Включено скрытие групп, для которых действует ограничени
              продаж
            example: true
      example:
        e373a0f6-cfdd-48f4-8a76-b3ad48b4fed1:
          is_sale: false
          is_limited_hidden: true
          is_sales_limited: true
    NavBreadcrumb:
      type: object
      description: Хлебная крошка
      required:
        - name
        - path
      properties:
        name:
          $ref: '#/components/schemas/PageName'
        path:
          $ref: '#/components/schemas/PagePath'
    NavSelector:
      type: object
      description: Вложение для страницы
      required:
        - name
        - path
        - selected
      properties:
        name:
          $ref: '#/components/schemas/PageName'
        path:
          $ref: '#/components/schemas/PagePath'
        selected:
          $ref: '#/components/schemas/PageSelected'
    Navigation:
      type: object
      description: Навигация
      properties:
        main:
          type: array
          description: Основное меню
          items:
            $ref: '#/components/schemas/NavItem'
        header:
          type: array
          description: Верхнее меню
          items:
            $ref: '#/components/schemas/NavItem'
        footer:
          type: array
          description: Нижнее меню
          items:
            $ref: '#/components/schemas/NavItem'
        offers:
          $ref: '#/components/schemas/NavItem'
        privacy:
          $ref: '#/components/schemas/NavItem'
        public_offer:
          $ref: '#/components/schemas/NavItem'
        personal_data:
          $ref: '#/components/schemas/NavItem'
        promo_materials:
          $ref: '#/components/schemas/NavItem'
        cookie_policy:
          $ref: '#/components/schemas/NavItem'
        images:
          $ref: '#/components/schemas/NavImages'
        hours:
          $ref: '#/components/schemas/NavHours'
    Page:
      type: object
      required:
        - id
        - city_id
        - city_folder
        - name
        - type
        - path
        - html_on
        - no_index
        - no_follow
        - in_header
        - in_main_menu
        - in_footer
        - is_privacy
        - is_public_offer
        - is_personal_data
        - is_promo_materials
        - is_cookie_policy
        - folder
        - prefix
        - url
        - nav
      properties:
        id:
          $ref: '#/components/schemas/PageId'
        city_id:
          $ref: '#/components/schemas/CityId'
        city_folder:
          $ref: '#/components/schemas/CityFolder'
        shop_id:
          $ref: '#/components/schemas/ShopId'
        entity_id:
          oneOf:
            - $ref: '#/components/schemas/EntityId'
            - $ref: '#/components/schemas/CompoundEntityId'
        name:
          $ref: '#/components/schemas/PageName'
        type:
          $ref: '#/components/schemas/PageType'
        path:
          $ref: '#/components/schemas/PagePath'
        title:
          type: string
          description: Тайтл страницы
          example: Доставка роллов в Москве
        description:
          type: string
          description: Описание для meta description
        html:
          type: string
          description: SEO-текст для страницы
        html_on:
          type: boolean
          description: Показывать SEO-текст
          example: false
        no_index:
          $ref: '#/components/schemas/NoIndex'
        no_follow:
          $ref: '#/components/schemas/NoFollow'
        in_header:
          type: boolean
          description: Страница в верхнем меню
          example: true
        in_main_menu:
          type: boolean
          description: Страница в главном меню
          example: true
        in_footer:
          type: boolean
          description: Страница в нижнем меню
          example: true
        is_popular:
          type: boolean
          description: Необходима загрузка популярных
          example: true
        is_privacy:
          $ref: '#/components/schemas/IsPrivacy'
        is_public_offer:
          $ref: '#/components/schemas/IsPublicOffer'
        is_personal_data:
          $ref: '#/components/schemas/IsPersonalData'
        is_promo_materials:
          $ref: '#/components/schemas/IsPromoMaterials'
        is_cookie_policy:
          $ref: '#/components/schemas/IsCookiePolicy'
        folder:
          $ref: '#/components/schemas/PageFolder'
        prefix:
          type: string
          description: Префикс пути для папки
          example: /moscow
        url:
          $ref: '#/components/schemas/PageUrl'
        nav:
          $ref: '#/components/schemas/Navigation'
        breadcrumbs:
          type: array
          description: Хлебные крошки
          items:
            $ref: '#/components/schemas/NavBreadcrumb'
        selectors:
          type: array
          description: Вложенность страницы
          items:
            $ref: '#/components/schemas/NavSelector'
    Redirect:
      type: object
      required:
        - id
        - type
        - link
        - code
      properties:
        id:
          $ref: '#/components/schemas/PageId'
        type:
          type: string
          description: Тип redirect
          example: redirect
        link:
          type: string
          description: URL редиректа
          example: https://demo.smartofood.ru/api/client/v1/pages/6544:getFile
        code:
          type: integer
          description: Код редиректа
          example: 302
    Banner:
      type: object
      required:
        - id
        - name
        - image_width
        - image_height
        - place
        - image_url
        - is_local_link
      properties:
        id:
          $ref: '#/components/schemas/Id'
        name:
          type: string
          description: Название баннера
        image_alt:
          $ref: '#/components/schemas/ImageAlt'
        image_width:
          $ref: '#/components/schemas/ImageWidth'
        image_height:
          $ref: '#/components/schemas/ImageHeight'
        link:
          $ref: '#/components/schemas/ImageLink'
        place:
          $ref: '#/components/schemas/Place'
        image_url:
          $ref: '#/components/schemas/ImageUrl'
        is_local_link:
          $ref: '#/components/schemas/IsLocalLink'
    Offer:
      type: object
      required:
        - id
        - city_id
        - title
        - place
      properties:
        id:
          $ref: '#/components/schemas/Id'
        city_id:
          $ref: '#/components/schemas/CityId'
        title:
          type: string
          description: Заголовок акции
        description:
          type: string
          description: Описание акции
        image_alt:
          $ref: '#/components/schemas/ImageAlt'
        link:
          $ref: '#/components/schemas/ImageLink'
        place:
          $ref: '#/components/schemas/Place'
        image_url:
          $ref: '#/components/schemas/ImageUrl'
    City:
      type: object
      required:
        - id
        - name
        - timezone
        - hide_phone
        - is_active
        - place
        - empty_streets_allowed
        - manual_streets_prohibited
        - callback_notification_on
        - callback_notification_sms_on
        - order_on
        - order_can
        - is_open
        - working_time
        - kladr_main
      properties:
        id:
          $ref: '#/components/schemas/CityId'
        name:
          $ref: '#/components/schemas/CityName'
        addr_name:
          type: string
          description: Название города для адреса при использовании концепций
          example: Москва
        phone:
          type: string
          description: Телефон колл-центра
          example: 8 800 000-00-00
        folder:
          $ref: '#/components/schemas/CityFolder'
        timezone:
          $ref: '#/components/schemas/TimeZone'
        hide_phone:
          type: boolean
          description: Скрыть телефон колл-центра
          example: false
        is_active:
          type: boolean
          description: Город активен
          example: true
        place:
          $ref: '#/components/schemas/Place'
        empty_streets_allowed:
          type: boolean
          description: Разрешено оформление заказов с пустой улицей
          example: true
        manual_streets_prohibited:
          type: boolean
          description: Ручной ввод улиц при оформлении заказа запрещен
          example: true
        callback_notification_on:
          type: boolean
          description: Оповещение об обратных звонках в телеграм
          example: true
        callback_notification_sms_on:
          type: boolean
          description: Оповещение об обратных звонках по смс
          example: true
        delivery_price:
          $ref: '#/components/schemas/DeliveryPrice'
        free_delivery:
          $ref: '#/components/schemas/FreeDelivery'
        minimum_order:
          $ref: '#/components/schemas/MinimumOrder'
        order_on:
          type: boolean
          description: Прием заказов на текущее время включен
          example: true
        order_offtime:
          type: boolean
          description: Прием заказов в нерабочее время включен
          example: true
        order_ontime:
          type: boolean
          description: Прием заказов на точное время включен
          example: true
        order_can:
          type: boolean
          description: Прием заказов возможен
          example: true
        tel:
          type: string
          description: 'Телефон колл-центра в формате для ссылки tel:'
          example: '88000000000'
        kladr_main:
          type: string
          description: Основной идентификатор города (КЛАДР или внутренний). Используется
            для запроса домов без улицы
          example: '7700000100000'
        is_open:
          $ref: '#/components/schemas/IsOpen'
        working_time:
          $ref: '#/components/schemas/WorkingTime'
        open_time:
          $ref: '#/components/schemas/OpenTime'
        close_time:
          $ref: '#/components/schemas/CloseTime'
        delivery_price_raw:
          $ref: '#/components/schemas/DeliveryPriceRaw'
        free_delivery_raw:
          $ref: '#/components/schemas/FreeDeliveryRaw'
        minimum_order_raw:
          $ref: '#/components/schemas/MinimumOrderRaw'
    Shop:
      type: object
      required:
        - id
        - name
        - city
        - street
        - house
        - qr_on
        - addr
        - formatted_address
        - is_open
        - working_time
      properties:
        id:
          $ref: '#/components/schemas/ShopId'
        name:
          $ref: '#/components/schemas/ShopName'
        city:
          $ref: '#/components/schemas/CityName'
        district:
          $ref: '#/components/schemas/District'
        street:
          $ref: '#/components/schemas/Street'
        house:
          $ref: '#/components/schemas/House'
        qr_on:
          $ref: '#/components/schemas/QrOn'
        qr_url:
          type: string
          description: Ссылка на qr_url
          nullable: true
          example: https://demo.smartofood.ru/qr?shop=1
        is_default:
          $ref: '#/components/schemas/IsDefault'
        addr:
          $ref: '#/components/schemas/Addr'
        addr_lat:
          $ref: '#/components/schemas/AddrLat'
        addr_lon:
          $ref: '#/components/schemas/AddrLon'
        formatted_address:
          $ref: '#/components/schemas/FormattedAddress'
        is_open:
          $ref: '#/components/schemas/IsOpen'
        working_time:
          $ref: '#/components/schemas/WorkingTime'
        open_time:
          $ref: '#/components/schemas/OpenTime'
        close_time:
          $ref: '#/components/schemas/CloseTime'
        selected:
          type: boolean
          description: Выбранное заведение
          example: true
        distance:
          type: boolean
          description: Растояние до гостя в метрах
          nullable: true
          example: 1835
    ShopQR:
      type: object
      required:
        - id
        - city_id
        - name
        - city
        - street
        - house
        - qr_on
        - qr_manual_table_selection
        - qr_text_on
        - addr
        - formatted_address
        - is_open
        - working_time
      properties:
        id:
          $ref: '#/components/schemas/ShopId'
        city_id:
          $ref: '#/components/schemas/CityId'
        name:
          $ref: '#/components/schemas/ShopName'
        city:
          $ref: '#/components/schemas/CityName'
        district:
          $ref: '#/components/schemas/District'
        street:
          $ref: '#/components/schemas/Street'
        house:
          $ref: '#/components/schemas/House'
        qr_on:
          $ref: '#/components/schemas/QrOn'
        qr_manual_table_selection:
          type: boolean
          description: Ручной выбор стола разрешен
          example: true
        qr_url:
          type: string
          description: Ссылка на qr_url
          nullable: true
          example: https://demo.smartofood.ru/qr?shop=1
        qr_text:
          type: string
          description: Приветствие для гостей
        qr_text_on:
          type: boolean
          description: Показывать приветствие для гостей
          example: true
        addr:
          $ref: '#/components/schemas/Addr'
        addr_lat:
          $ref: '#/components/schemas/AddrLat'
        addr_lon:
          $ref: '#/components/schemas/AddrLon'
        formatted_address:
          $ref: '#/components/schemas/FormattedAddress'
        is_open:
          $ref: '#/components/schemas/IsOpen'
        working_time:
          $ref: '#/components/schemas/WorkingTime'
        open_time:
          $ref: '#/components/schemas/OpenTime'
        close_time:
          $ref: '#/components/schemas/CloseTime'
    ProductListItemV0:
      type: object
      required:
        - group_id
        - product_id
        - name
        - description
        - weight
        - weight_raw
        - is_readonly
        - is_popular
        - in_suggest
        - price
        - price_raw
        - regular_price
        - regular_price_raw
        - path
        - url
        - tags
        - badges
      properties:
        group_id:
          $ref: '#/components/schemas/ParentGroup'
        product_id:
          $ref: '#/components/schemas/ProductId'
        name:
          $ref: '#/components/schemas/ProductName'
        description:
          $ref: '#/components/schemas/ProductDescription'
        weight:
          $ref: '#/components/schemas/ProductWeight'
        weight_raw:
          $ref: '#/components/schemas/ProductWeightRaw'
        is_readonly:
          $ref: '#/components/schemas/IsReadonly'
        is_popular:
          $ref: '#/components/schemas/IsPopular'
        in_suggest:
          $ref: '#/components/schemas/InSuggest'
        price:
          $ref: '#/components/schemas/ProductPrice'
        price_raw:
          $ref: '#/components/schemas/ProductPriceRaw'
        regular_price:
          $ref: '#/components/schemas/ProductRegularPrice'
        regular_price_raw:
          $ref: '#/components/schemas/ProductRegularPriceRaw'
        path:
          $ref: '#/components/schemas/PagePath'
        url:
          $ref: '#/components/schemas/PageUrl'
        image_url:
          $ref: '#/components/schemas/ImageUrl'
        timezone:
          $ref: '#/components/schemas/TimeZone'
        is_group_limited:
          $ref: '#/components/schemas/IsGroupLimited'
        group_sale:
          $ref: '#/components/schemas/GroupSale'
        group_sale_time:
          $ref: '#/components/schemas/GroupSaleTime'
        group_sale_hidden:
          $ref: '#/components/schemas/GroupSaleHidden'
        is_sales_limited:
          $ref: '#/components/schemas/IsSalesLimited'
        is_sale:
          $ref: '#/components/schemas/IsSale'
        sales_time:
          $ref: '#/components/schemas/SalesTime'
        is_limited_hidden:
          $ref: '#/components/schemas/IsLimitedHidden'
        tags:
          type: array
          description: Теги
          items:
            $ref: '#/components/schemas/ProductTag'
        badges:
          type: array
          description: Бейджи
          items:
            $ref: '#/components/schemas/ProductBadge'
    ProductListItemV1:
      type: object
      required:
        - product_id
        - name
        - description
        - weight
        - weight_raw
        - min_weight
        - min_weight_raw
        - is_simple
        - is_readonly
        - price
        - price_raw
        - min_price
        - min_price_raw
        - parent_group
        - path
        - url
      properties:
        product_id:
          $ref: '#/components/schemas/ProductId'
        name:
          $ref: '#/components/schemas/ProductName'
        description:
          $ref: '#/components/schemas/ProductDescription'
        weight:
          $ref: '#/components/schemas/ProductWeight'
        weight_raw:
          $ref: '#/components/schemas/ProductWeightRaw'
        min_weight:
          $ref: '#/components/schemas/ProductMinWeight'
        min_weight_raw:
          $ref: '#/components/schemas/ProductMinWeightRaw'
        is_simple:
          $ref: '#/components/schemas/IsSimple'
        is_readonly:
          $ref: '#/components/schemas/IsReadonly'
        is_stopped:
          $ref: '#/components/schemas/IsStopped'
        price:
          $ref: '#/components/schemas/ProductPrice'
        price_raw:
          $ref: '#/components/schemas/ProductPriceRaw'
        min_price:
          $ref: '#/components/schemas/ProductMinPrice'
        min_price_raw:
          $ref: '#/components/schemas/ProductMinPriceRaw'
        parent_group:
          $ref: '#/components/schemas/ParentGroup'
        path:
          $ref: '#/components/schemas/PagePath'
        url:
          $ref: '#/components/schemas/PageUrl'
        image_url:
          $ref: '#/components/schemas/ImageUrl'
        timezone:
          $ref: '#/components/schemas/TimeZone'
        is_group_limited:
          $ref: '#/components/schemas/IsGroupLimited'
        group_sale:
          $ref: '#/components/schemas/GroupSale'
        group_sale_time:
          $ref: '#/components/schemas/GroupSaleTime'
        group_sale_hidden:
          $ref: '#/components/schemas/GroupSaleHidden'
        is_sales_limited:
          $ref: '#/components/schemas/IsSalesLimited'
        is_sale:
          $ref: '#/components/schemas/IsSale'
        sales_time:
          $ref: '#/components/schemas/SalesTime'
        is_limited_hidden:
          $ref: '#/components/schemas/IsLimitedHidden'
    ProductListItemV2:
      type: object
      required:
        - group_id
        - product_id
        - name
        - description
        - weight
        - weight_raw
        - default_weight
        - default_weight_raw
        - simple
        - have_options
        - default_enough
        - paid_modifiers_exists
        - different_sizes_exists
        - is_prohibited
        - is_readonly
        - is_popular
        - in_suggest
        - price
        - price_raw
        - default_price
        - default_price_raw
        - path
        - url
        - tags
        - badges
      properties:
        group_id:
          $ref: '#/components/schemas/ParentGroup'
        product_id:
          $ref: '#/components/schemas/ProductId'
        name:
          $ref: '#/components/schemas/ProductName'
        description:
          $ref: '#/components/schemas/ProductDescription'
        weight:
          $ref: '#/components/schemas/ProductWeight'
        weight_raw:
          $ref: '#/components/schemas/ProductWeightRaw'
        default_weight:
          $ref: '#/components/schemas/DefaultWeight'
        default_weight_raw:
          $ref: '#/components/schemas/DefaultWeightRaw'
        simple:
          $ref: '#/components/schemas/IsSimple'
        have_options:
          $ref: '#/components/schemas/HaveOptions'
        default_enough:
          $ref: '#/components/schemas/DefaultEnough'
        paid_modifiers_exists:
          $ref: '#/components/schemas/PaidModifiersExists'
        different_sizes_exists:
          $ref: '#/components/schemas/DifferentSizesExists'
        only_size_id:
          $ref: '#/components/schemas/OnlySizeId'
        is_prohibited:
          $ref: '#/components/schemas/IsProhibited'
        is_readonly:
          $ref: '#/components/schemas/IsReadonly'
        is_popular:
          $ref: '#/components/schemas/IsPopular'
        in_suggest:
          $ref: '#/components/schemas/InSuggest'
        is_stopped:
          $ref: '#/components/schemas/IsStopped'
        price:
          $ref: '#/components/schemas/ProductPrice'
        price_raw:
          $ref: '#/components/schemas/ProductPriceRaw'
        default_price:
          $ref: '#/components/schemas/DefaultPrice'
        default_price_raw:
          $ref: '#/components/schemas/DefaultPriceRaw'
        regular_price:
          $ref: '#/components/schemas/ProductRegularPrice'
        regular_price_raw:
          $ref: '#/components/schemas/ProductRegularPriceRaw'
        path:
          $ref: '#/components/schemas/PagePath'
        url:
          $ref: '#/components/schemas/PageUrl'
        image_url:
          $ref: '#/components/schemas/ImageUrl'
        timezone:
          $ref: '#/components/schemas/TimeZone'
        is_group_limited:
          $ref: '#/components/schemas/IsGroupLimited'
        group_sale:
          $ref: '#/components/schemas/GroupSale'
        group_sale_time:
          $ref: '#/components/schemas/GroupSaleTime'
        group_sale_hidden:
          $ref: '#/components/schemas/GroupSaleHidden'
        is_sales_limited:
          $ref: '#/components/schemas/IsSalesLimited'
        is_sale:
          $ref: '#/components/schemas/IsSale'
        sales_time:
          $ref: '#/components/schemas/SalesTime'
        is_limited_hidden:
          $ref: '#/components/schemas/IsLimitedHidden'
        tags:
          type: array
          description: Теги
          items:
            $ref: '#/components/schemas/ProductTag'
        badges:
          type: array
          description: Бейджи
          items:
            $ref: '#/components/schemas/ProductBadge'
    ProductListItemQRV0:
      type: object
      required:
        - group_id
        - product_id
        - name
        - description
        - weight
        - weight_raw
        - is_readonly
        - is_popular
        - in_suggest
        - price
        - price_raw
        - regular_price
        - regular_price_raw
        - tags
        - badges
      properties:
        group_id:
          $ref: '#/components/schemas/ParentGroup'
        product_id:
          $ref: '#/components/schemas/ProductId'
        name:
          $ref: '#/components/schemas/ProductName'
        description:
          $ref: '#/components/schemas/ProductDescription'
        weight:
          $ref: '#/components/schemas/ProductWeight'
        weight_raw:
          $ref: '#/components/schemas/ProductWeightRaw'
        is_readonly:
          $ref: '#/components/schemas/IsReadonly'
        is_popular:
          $ref: '#/components/schemas/IsPopular'
        in_suggest:
          $ref: '#/components/schemas/InSuggest'
        price:
          $ref: '#/components/schemas/ProductPrice'
        price_raw:
          $ref: '#/components/schemas/ProductPriceRaw'
        regular_price:
          $ref: '#/components/schemas/ProductRegularPrice'
        regular_price_raw:
          $ref: '#/components/schemas/ProductRegularPriceRaw'
        image_url:
          $ref: '#/components/schemas/ImageUrl'
        timezone:
          $ref: '#/components/schemas/TimeZone'
        is_group_limited:
          $ref: '#/components/schemas/IsGroupLimited'
        group_sale:
          $ref: '#/components/schemas/GroupSale'
        group_sale_time:
          $ref: '#/components/schemas/GroupSaleTime'
        group_sale_hidden:
          $ref: '#/components/schemas/GroupSaleHidden'
        is_sales_limited:
          $ref: '#/components/schemas/IsSalesLimited'
        is_sale:
          $ref: '#/components/schemas/IsSale'
        sales_time:
          $ref: '#/components/schemas/SalesTime'
        is_limited_hidden:
          $ref: '#/components/schemas/IsLimitedHidden'
        tags:
          type: array
          description: Теги
          items:
            $ref: '#/components/schemas/ProductTag'
        badges:
          type: array
          description: Бейджи
          items:
            $ref: '#/components/schemas/ProductBadge'
    ProductListItemQRV1:
      type: object
      required:
        - product_id
        - name
        - description
        - weight
        - weight_raw
        - min_weight
        - min_weight_raw
        - is_simple
        - is_readonly
        - price
        - price_raw
        - min_price
        - min_price_raw
        - parent_group
      properties:
        product_id:
          $ref: '#/components/schemas/ProductId'
        name:
          $ref: '#/components/schemas/ProductName'
        description:
          $ref: '#/components/schemas/ProductDescription'
        weight:
          $ref: '#/components/schemas/ProductWeight'
        weight_raw:
          $ref: '#/components/schemas/ProductWeightRaw'
        min_weight:
          $ref: '#/components/schemas/ProductMinWeight'
        min_weight_raw:
          $ref: '#/components/schemas/ProductMinWeightRaw'
        is_simple:
          $ref: '#/components/schemas/IsSimple'
        is_readonly:
          $ref: '#/components/schemas/IsReadonly'
        is_stopped:
          $ref: '#/components/schemas/IsStopped'
        price:
          $ref: '#/components/schemas/ProductPrice'
        price_raw:
          $ref: '#/components/schemas/ProductPriceRaw'
        min_price:
          $ref: '#/components/schemas/ProductMinPrice'
        min_price_raw:
          $ref: '#/components/schemas/ProductMinPriceRaw'
        parent_group:
          $ref: '#/components/schemas/ParentGroup'
        image_url:
          $ref: '#/components/schemas/ImageUrl'
        timezone:
          $ref: '#/components/schemas/TimeZone'
        is_group_limited:
          $ref: '#/components/schemas/IsGroupLimited'
        group_sale:
          $ref: '#/components/schemas/GroupSale'
        group_sale_time:
          $ref: '#/components/schemas/GroupSaleTime'
        group_sale_hidden:
          $ref: '#/components/schemas/GroupSaleHidden'
        is_sales_limited:
          $ref: '#/components/schemas/IsSalesLimited'
        is_sale:
          $ref: '#/components/schemas/IsSale'
        sales_time:
          $ref: '#/components/schemas/SalesTime'
        is_limited_hidden:
          $ref: '#/components/schemas/IsLimitedHidden'
    ProductListItemQRV2:
      type: object
      required:
        - group_id
        - product_id
        - name
        - description
        - weight
        - weight_raw
        - default_weight
        - default_weight_raw
        - simple
        - have_options
        - default_enough
        - paid_modifiers_exists
        - different_sizes_exists
        - is_prohibited
        - is_readonly
        - is_popular
        - in_suggest
        - price
        - price_raw
        - default_price
        - default_price_raw
        - tags
        - badges
      properties:
        group_id:
          $ref: '#/components/schemas/ParentGroup'
        product_id:
          $ref: '#/components/schemas/ProductId'
        name:
          $ref: '#/components/schemas/ProductName'
        description:
          $ref: '#/components/schemas/ProductDescription'
        weight:
          $ref: '#/components/schemas/ProductWeight'
        weight_raw:
          $ref: '#/components/schemas/ProductWeightRaw'
        default_weight:
          $ref: '#/components/schemas/DefaultWeight'
        default_weight_raw:
          $ref: '#/components/schemas/DefaultWeightRaw'
        simple:
          $ref: '#/components/schemas/IsSimple'
        have_options:
          $ref: '#/components/schemas/HaveOptions'
        default_enough:
          $ref: '#/components/schemas/DefaultEnough'
        paid_modifiers_exists:
          $ref: '#/components/schemas/PaidModifiersExists'
        different_sizes_exists:
          $ref: '#/components/schemas/DifferentSizesExists'
        only_size_id:
          $ref: '#/components/schemas/OnlySizeId'
        is_prohibited:
          $ref: '#/components/schemas/IsProhibited'
        is_readonly:
          $ref: '#/components/schemas/IsReadonly'
        is_popular:
          $ref: '#/components/schemas/IsPopular'
        in_suggest:
          $ref: '#/components/schemas/InSuggest'
        is_stopped:
          $ref: '#/components/schemas/IsStopped'
        price:
          $ref: '#/components/schemas/ProductPrice'
        price_raw:
          $ref: '#/components/schemas/ProductPriceRaw'
        default_price:
          $ref: '#/components/schemas/DefaultPrice'
        default_price_raw:
          $ref: '#/components/schemas/DefaultPriceRaw'
        regular_price:
          $ref: '#/components/schemas/ProductRegularPrice'
        regular_price_raw:
          $ref: '#/components/schemas/ProductRegularPriceRaw'
        image_url:
          $ref: '#/components/schemas/ImageUrl'
        timezone:
          $ref: '#/components/schemas/TimeZone'
        is_group_limited:
          $ref: '#/components/schemas/IsGroupLimited'
        group_sale:
          $ref: '#/components/schemas/GroupSale'
        group_sale_time:
          $ref: '#/components/schemas/GroupSaleTime'
        group_sale_hidden:
          $ref: '#/components/schemas/GroupSaleHidden'
        is_sales_limited:
          $ref: '#/components/schemas/IsSalesLimited'
        is_sale:
          $ref: '#/components/schemas/IsSale'
        sales_time:
          $ref: '#/components/schemas/SalesTime'
        is_limited_hidden:
          $ref: '#/components/schemas/IsLimitedHidden'
        tags:
          type: array
          description: Теги
          items:
            $ref: '#/components/schemas/ProductTag'
        badges:
          type: array
          description: Бейджи
          items:
            $ref: '#/components/schemas/ProductBadge'
    ProductBadge:
      type: string
      description: Бейдж продукта
      example: vegan
      enum:
        - allergic
        - vegan
        - spicy-1
        - spicy-2
        - spicy-3
    ProductTag:
      type: object
      required:
        - id
        - code
        - label
        - color
        - font
      properties:
        id:
          type: integer
          description: Идентификатор тега
          example: 1
        code:
          type: string
          description: Уникальный код тега
          example: hit
        label:
          type: string
          description: Лейбл тега
          example: Хит
        color:
          type: string
          description: HEX-код цвета фона
          example: c5934b
        font:
          type: string
          description: Тип цвета текста
          enum:
            - white
            - black
          example: white
    ProductV0:
      type: object
      required:
        - group_id
        - product_id
        - name
        - description
        - measure_unit
        - measure_unit_raw
        - weight
        - weight_raw
        - proteins
        - proteins_raw
        - energy
        - energy_raw
        - fats
        - fats_raw
        - carbs
        - carbs_raw
        - is_readonly
        - is_popular
        - in_suggest
        - price
        - price_raw
        - regular_price
        - regular_price_raw
        - tags
        - badges
      properties:
        group_id:
          $ref: '#/components/schemas/ParentGroup'
        product_id:
          $ref: '#/components/schemas/ProductId'
        name:
          $ref: '#/components/schemas/ProductName'
        description:
          $ref: '#/components/schemas/ProductDescription'
        measure_unit:
          $ref: '#/components/schemas/MeasureUnit'
        measure_unit_raw:
          $ref: '#/components/schemas/MeasureUnitRaw'
        weight:
          $ref: '#/components/schemas/ProductWeight'
        weight_raw:
          $ref: '#/components/schemas/ProductWeightRaw'
        carbs:
          $ref: '#/components/schemas/Carbohydrate'
        energy:
          $ref: '#/components/schemas/Energy'
        fats:
          $ref: '#/components/schemas/Fat'
        proteins:
          $ref: '#/components/schemas/Fiber'
        carbs_raw:
          $ref: '#/components/schemas/CarbohydrateRaw'
        energy_raw:
          $ref: '#/components/schemas/EnergyRaw'
        fats_raw:
          $ref: '#/components/schemas/FatRaw'
        proteins_raw:
          $ref: '#/components/schemas/FiberRaw'
        is_readonly:
          $ref: '#/components/schemas/IsReadonly'
        is_popular:
          $ref: '#/components/schemas/IsPopular'
        in_suggest:
          $ref: '#/components/schemas/InSuggest'
        price:
          $ref: '#/components/schemas/ProductPrice'
        price_raw:
          $ref: '#/components/schemas/ProductPriceRaw'
        regular_price:
          $ref: '#/components/schemas/ProductRegularPrice'
        regular_price_raw:
          $ref: '#/components/schemas/ProductRegularPriceRaw'
        image_url:
          $ref: '#/components/schemas/ImageUrl'
        timezone:
          $ref: '#/components/schemas/TimeZone'
        is_group_limited:
          $ref: '#/components/schemas/IsGroupLimited'
        group_sale:
          $ref: '#/components/schemas/GroupSale'
        group_sale_time:
          $ref: '#/components/schemas/GroupSaleTime'
        group_sale_hidden:
          $ref: '#/components/schemas/GroupSaleHidden'
        is_sales_limited:
          $ref: '#/components/schemas/IsSalesLimited'
        is_sale:
          $ref: '#/components/schemas/IsSale'
        sales_time:
          $ref: '#/components/schemas/SalesTime'
        is_limited_hidden:
          $ref: '#/components/schemas/IsLimitedHidden'
        tags:
          type: array
          description: Теги
          items:
            $ref: '#/components/schemas/ProductTag'
        badges:
          type: array
          description: Бейджи
          items:
            $ref: '#/components/schemas/ProductBadge'
        version:
          $ref: '#/components/schemas/MenuVersion'
    SizeV1:
      type: object
      required:
        - product_id
        - size_id
        - name
        - price
        - priority
        - is_default
        - price_raw
      properties:
        product_id:
          $ref: '#/components/schemas/ProductId'
        size_id:
          $ref: '#/components/schemas/SizeId'
        name:
          $ref: '#/components/schemas/SizeName'
        priority:
          $ref: '#/components/schemas/Priority'
        is_default:
          $ref: '#/components/schemas/DefaultSize'
        price:
          $ref: '#/components/schemas/ProductPrice'
        price_raw:
          $ref: '#/components/schemas/ProductPriceRaw'
        half_price:
          $ref: '#/components/schemas/ProductHalfPrice'
        half_price_raw:
          $ref: '#/components/schemas/ProductHalfPriceRaw'
    ModifierV1:
      type: object
      required:
        - modifier_id
        - price
        - min
        - max
        - default
        - is_required
        - product_id
        - name
        - carbohydrate
        - energy
        - fat
        - fiber
        - weight
        - measure_unit
        - price_raw
        - carbohydrate_raw
        - energy_raw
        - fat_raw
        - fiber_raw
        - weight_raw
      properties:
        product_id:
          $ref: '#/components/schemas/ProductId'
        modifier_id:
          $ref: '#/components/schemas/ModifierId'
        name:
          $ref: '#/components/schemas/ModifierName'
        min:
          $ref: '#/components/schemas/MinModifier'
        max:
          $ref: '#/components/schemas/MaxModifier'
        default:
          $ref: '#/components/schemas/DefaultModifier'
        is_required:
          $ref: '#/components/schemas/RequiredModifier'
        is_stopped:
          $ref: '#/components/schemas/IsStopped'
        is_prohibited:
          $ref: '#/components/schemas/IsProhibited'
        image_url:
          $ref: '#/components/schemas/ImageUrl'
        image_alt:
          $ref: '#/components/schemas/ImageAlt'
        measure_unit:
          $ref: '#/components/schemas/MeasureUnit'
        carbohydrate:
          $ref: '#/components/schemas/Carbohydrate'
        energy:
          $ref: '#/components/schemas/Energy'
        fat:
          $ref: '#/components/schemas/Fat'
        fiber:
          $ref: '#/components/schemas/Fiber'
        weight:
          $ref: '#/components/schemas/ProductWeight'
        carbohydrate_raw:
          $ref: '#/components/schemas/CarbohydrateRaw'
        energy_raw:
          $ref: '#/components/schemas/EnergyRaw'
        fat_raw:
          $ref: '#/components/schemas/FatRaw'
        fiber_raw:
          $ref: '#/components/schemas/FiberRaw'
        weight_raw:
          $ref: '#/components/schemas/ProductWeightRaw'
        price:
          $ref: '#/components/schemas/ProductPrice'
        price_raw:
          $ref: '#/components/schemas/ProductPriceRaw'
    ModifierGroupV1:
      type: object
      required:
        - group_id
        - name
        - min
        - max
        - is_required
        - is_splittable
        - items
      properties:
        group_id:
          $ref: '#/components/schemas/GroupId'
        name:
          $ref: '#/components/schemas/GroupName'
        min:
          $ref: '#/components/schemas/MinModifier'
        max:
          $ref: '#/components/schemas/MaxModifier'
        is_required:
          $ref: '#/components/schemas/RequiredModifier'
        is_splittable:
          $ref: '#/components/schemas/IsSplittable'
        items:
          type: array
          description: Модификаторы
          items:
            $ref: '#/components/schemas/ModifierV1'
    ProductHalfV1:
      type: object
      required:
        - price
        - is_compound
        - product_id
        - name
        - carbohydrate
        - energy
        - fat
        - fiber
        - weight
        - measure_unit
        - price_raw
        - carbohydrate_raw
        - energy_raw
        - fat_raw
        - fiber_raw
        - weight_raw
      properties:
        product_id:
          $ref: '#/components/schemas/ProductId'
        name:
          $ref: '#/components/schemas/ProductName'
        size_id:
          $ref: '#/components/schemas/SizeId'
        size_name:
          $ref: '#/components/schemas/SizeName'
        schema_id:
          $ref: '#/components/schemas/SchemaId'
        schema_name:
          $ref: '#/components/schemas/SchemaName'
        is_compound:
          $ref: '#/components/schemas/IsCompound'
        is_stopped:
          $ref: '#/components/schemas/IsStopped'
        image_url:
          $ref: '#/components/schemas/ImageUrl'
        image_alt:
          $ref: '#/components/schemas/ImageAlt'
        measure_unit:
          $ref: '#/components/schemas/MeasureUnit'
        carbohydrate:
          $ref: '#/components/schemas/Carbohydrate'
        energy:
          $ref: '#/components/schemas/Energy'
        fat:
          $ref: '#/components/schemas/Fat'
        fiber:
          $ref: '#/components/schemas/Fiber'
        weight:
          $ref: '#/components/schemas/ProductWeight'
        carbohydrate_raw:
          $ref: '#/components/schemas/CarbohydrateRaw'
        energy_raw:
          $ref: '#/components/schemas/EnergyRaw'
        fat_raw:
          $ref: '#/components/schemas/FatRaw'
        fiber_raw:
          $ref: '#/components/schemas/FiberRaw'
        weight_raw:
          $ref: '#/components/schemas/ProductWeightRaw'
        price:
          $ref: '#/components/schemas/ProductPrice'
        price_raw:
          $ref: '#/components/schemas/ProductPriceRaw'
        half_price:
          $ref: '#/components/schemas/ProductHalfPrice'
        half_price_raw:
          $ref: '#/components/schemas/ProductHalfPriceRaw'
        sizes:
          type: array
          description: Размеры
          items:
            $ref: '#/components/schemas/SizeV1'
    ProductV1:
      type: object
      required:
        - price
        - is_compound
        - product_id
        - parent_group
        - name
        - carbohydrate
        - energy
        - fat
        - fiber
        - weight
        - measure_unit
        - price_raw
        - carbohydrate_raw
        - energy_raw
        - fat_raw
        - fiber_raw
        - weight_raw
      properties:
        product_id:
          $ref: '#/components/schemas/ProductId'
        parent_group:
          $ref: '#/components/schemas/ParentGroup'
        name:
          $ref: '#/components/schemas/ProductName'
        description:
          $ref: '#/components/schemas/ProductDescription'
        size_id:
          $ref: '#/components/schemas/SizeId'
        size_name:
          $ref: '#/components/schemas/SizeName'
        schema_id:
          $ref: '#/components/schemas/SchemaId'
        schema_name:
          $ref: '#/components/schemas/SchemaName'
        is_compound:
          $ref: '#/components/schemas/IsCompound'
        is_stopped:
          $ref: '#/components/schemas/IsStopped'
        is_readonly:
          $ref: '#/components/schemas/IsReadonly'
        is_splittable:
          $ref: '#/components/schemas/IsSplittable'
        image_url:
          $ref: '#/components/schemas/ImageUrl'
        image_alt:
          $ref: '#/components/schemas/ImageAlt'
        measure_unit:
          $ref: '#/components/schemas/MeasureUnit'
        carbohydrate:
          $ref: '#/components/schemas/Carbohydrate'
        energy:
          $ref: '#/components/schemas/Energy'
        fat:
          $ref: '#/components/schemas/Fat'
        fiber:
          $ref: '#/components/schemas/Fiber'
        weight:
          $ref: '#/components/schemas/ProductWeight'
        carbohydrate_raw:
          $ref: '#/components/schemas/CarbohydrateRaw'
        energy_raw:
          $ref: '#/components/schemas/EnergyRaw'
        fat_raw:
          $ref: '#/components/schemas/FatRaw'
        fiber_raw:
          $ref: '#/components/schemas/FiberRaw'
        weight_raw:
          $ref: '#/components/schemas/ProductWeightRaw'
        price:
          $ref: '#/components/schemas/ProductPrice'
        price_raw:
          $ref: '#/components/schemas/ProductPriceRaw'
        half_price:
          $ref: '#/components/schemas/ProductHalfPrice'
        half_price_raw:
          $ref: '#/components/schemas/ProductHalfPriceRaw'
        timezone:
          $ref: '#/components/schemas/TimeZone'
        is_group_limited:
          $ref: '#/components/schemas/IsGroupLimited'
        group_sale:
          $ref: '#/components/schemas/GroupSale'
        group_sale_time:
          $ref: '#/components/schemas/GroupSaleTime'
        group_sale_hidden:
          $ref: '#/components/schemas/GroupSaleHidden'
        is_sales_limited:
          $ref: '#/components/schemas/IsSalesLimited'
        is_sale:
          $ref: '#/components/schemas/IsSale'
        sales_time:
          $ref: '#/components/schemas/SalesTime'
        is_limited_hidden:
          $ref: '#/components/schemas/IsLimitedHidden'
        version:
          $ref: '#/components/schemas/MenuVersion'
        sizes:
          type: array
          description: Размеры
          items:
            $ref: '#/components/schemas/SizeV1'
        modifiers:
          type: array
          description: Групповые модификаторы
          items:
            $ref: '#/components/schemas/ModifierGroupV1'
        selectors:
          type: array
          description: Селекторные модификаторы
          items:
            $ref: '#/components/schemas/ModifierGroupV1'
        halves:
          type: array
          description: Доступные половинки
          items:
            $ref: '#/components/schemas/ProductHalfV1'
    ModifierV2:
      type: object
      required:
        - group_id
        - product_id
        - size_id
        - modifier_group_id
        - modifier_id
        - name
        - min
        - max
        - default
        - free
        - is_required
        - is_prohibited
        - independent_quantity
        - hide_if_default
        - price
        - weight
        - price_raw
        - weight_raw
      properties:
        group_id:
          $ref: '#/components/schemas/ParentGroup'
        product_id:
          $ref: '#/components/schemas/ProductId'
        size_id:
          $ref: '#/components/schemas/SizeId'
        modifier_group_id:
          $ref: '#/components/schemas/GroupId'
        modifier_id:
          $ref: '#/components/schemas/ModifierId'
        name:
          $ref: '#/components/schemas/ModifierName'
        min:
          $ref: '#/components/schemas/MinModifier'
        max:
          $ref: '#/components/schemas/MaxModifier'
        default:
          $ref: '#/components/schemas/DefaultModifier'
        free:
          $ref: '#/components/schemas/FreeModifier'
        is_required:
          $ref: '#/components/schemas/RequiredModifier'
        is_stopped:
          $ref: '#/components/schemas/IsStopped'
        is_prohibited:
          $ref: '#/components/schemas/IsProhibited'
        independent_quantity:
          $ref: '#/components/schemas/IndependentQuantity'
        hide_if_default:
          $ref: '#/components/schemas/HideIfDefault'
        image_url:
          $ref: '#/components/schemas/ImageUrl'
        carbohydrate:
          $ref: '#/components/schemas/Carbohydrate'
        energy:
          $ref: '#/components/schemas/Energy'
        fat:
          $ref: '#/components/schemas/Fat'
        fiber:
          $ref: '#/components/schemas/Fiber'
        weight:
          $ref: '#/components/schemas/ProductWeight'
        carbohydrate_raw:
          $ref: '#/components/schemas/CarbohydrateRaw'
        energy_raw:
          $ref: '#/components/schemas/EnergyRaw'
        fat_raw:
          $ref: '#/components/schemas/FatRaw'
        fiber_raw:
          $ref: '#/components/schemas/FiberRaw'
        weight_raw:
          $ref: '#/components/schemas/ProductWeightRaw'
        price:
          $ref: '#/components/schemas/ProductPrice'
        price_raw:
          $ref: '#/components/schemas/ProductPriceRaw'
    ModifierGroupV2:
      type: object
      required:
        - group_id
        - product_id
        - size_id
        - modifier_group_id
        - name
        - min
        - max
        - default
        - free
        - is_required
        - is_prohibited
        - child_have_restrictions
        - hide_if_default
        - splittable
        - selector
        - items
      properties:
        group_id:
          $ref: '#/components/schemas/ParentGroup'
        product_id:
          $ref: '#/components/schemas/ProductId'
        size_id:
          $ref: '#/components/schemas/SizeId'
        modifier_group_id:
          $ref: '#/components/schemas/GroupId'
        name:
          $ref: '#/components/schemas/ModifierName'
        min:
          $ref: '#/components/schemas/MinModifier'
        max:
          $ref: '#/components/schemas/MaxModifier'
        default:
          $ref: '#/components/schemas/DefaultModifier'
        free:
          $ref: '#/components/schemas/FreeModifier'
        is_required:
          $ref: '#/components/schemas/RequiredModifier'
        is_prohibited:
          $ref: '#/components/schemas/IsProhibited'
        child_have_restrictions:
          $ref: '#/components/schemas/ChildHaveRestrictions'
        hide_if_default:
          $ref: '#/components/schemas/HideIfDefault'
        splittable:
          $ref: '#/components/schemas/IsSplittable'
        selector:
          $ref: '#/components/schemas/IsSelector'
        items:
          type: array
          description: Модификаторы
          items:
            $ref: '#/components/schemas/ModifierV2'
    SizeV2:
      type: object
      required:
        - group_id
        - product_id
        - size_id
        - name
        - is_default
        - is_prohibited
        - price
        - carbohydrate
        - energy
        - fat
        - fiber
        - weight
        - price_raw
        - carbohydrate_raw
        - energy_raw
        - fat_raw
        - fiber_raw
        - weight_raw
      properties:
        group_id:
          $ref: '#/components/schemas/ParentGroup'
        product_id:
          $ref: '#/components/schemas/ProductId'
        size_id:
          $ref: '#/components/schemas/SizeId'
        name:
          $ref: '#/components/schemas/ModifierName'
        is_default:
          $ref: '#/components/schemas/DefaultSize'
        is_prohibited:
          $ref: '#/components/schemas/IsProhibited'
        image_url:
          $ref: '#/components/schemas/ImageUrl'
        carbohydrate:
          $ref: '#/components/schemas/Carbohydrate'
        energy:
          $ref: '#/components/schemas/Energy'
        fat:
          $ref: '#/components/schemas/Fat'
        fiber:
          $ref: '#/components/schemas/Fiber'
        weight:
          $ref: '#/components/schemas/ProductWeight'
        carbohydrate_raw:
          $ref: '#/components/schemas/CarbohydrateRaw'
        energy_raw:
          $ref: '#/components/schemas/EnergyRaw'
        fat_raw:
          $ref: '#/components/schemas/FatRaw'
        fiber_raw:
          $ref: '#/components/schemas/FiberRaw'
        weight_raw:
          $ref: '#/components/schemas/ProductWeightRaw'
        price:
          $ref: '#/components/schemas/ProductPrice'
        price_raw:
          $ref: '#/components/schemas/ProductPriceRaw'
        half_price:
          $ref: '#/components/schemas/ProductHalfPrice'
        half_price_raw:
          $ref: '#/components/schemas/ProductHalfPriceRaw'
        regular_price:
          $ref: '#/components/schemas/ProductRegularPrice'
        regular_price_raw:
          $ref: '#/components/schemas/ProductRegularPriceRaw'
        selectors:
          type: array
          description: Селекторные модификаторы
          items:
            $ref: '#/components/schemas/ModifierGroupV2'
        modifiers:
          type: array
          description: Групповые модификаторы
          items:
            $ref: '#/components/schemas/ModifierGroupV2'
    ProductHalfV2:
      type: object
      required:
        - group_id
        - product_id
        - name
        - size_id
        - size_name
        - description
        - measure_unit
        - weight
        - weight_raw
        - default_weight
        - default_weight_raw
        - simple
        - have_options
        - default_enough
        - paid_modifiers_exists
        - different_sizes_exists
        - is_prohibited
        - is_readonly
        - is_popular
        - in_suggest
        - is_compound
        - is_splittable
        - price
        - price_raw
        - default_price
        - default_price_raw
      properties:
        group_id:
          $ref: '#/components/schemas/ParentGroup'
        product_id:
          $ref: '#/components/schemas/ProductId'
        name:
          $ref: '#/components/schemas/ProductName'
        description:
          $ref: '#/components/schemas/ProductDescription'
        measure_unit:
          $ref: '#/components/schemas/MeasureUnit'
        schema_id:
          $ref: '#/components/schemas/SchemaId'
        schema_name:
          $ref: '#/components/schemas/SchemaName'
        size_id:
          $ref: '#/components/schemas/SizeId'
        size_name:
          $ref: '#/components/schemas/SizeName'
        weight:
          $ref: '#/components/schemas/ProductWeight'
        weight_raw:
          $ref: '#/components/schemas/ProductWeightRaw'
        default_weight:
          $ref: '#/components/schemas/DefaultWeight'
        default_weight_raw:
          $ref: '#/components/schemas/DefaultWeightRaw'
        simple:
          $ref: '#/components/schemas/IsSimple'
        have_options:
          $ref: '#/components/schemas/HaveOptions'
        default_enough:
          $ref: '#/components/schemas/DefaultEnough'
        paid_modifiers_exists:
          $ref: '#/components/schemas/PaidModifiersExists'
        different_sizes_exists:
          $ref: '#/components/schemas/DifferentSizesExists'
        only_size_id:
          $ref: '#/components/schemas/OnlySizeId'
        is_prohibited:
          $ref: '#/components/schemas/IsProhibited'
        is_readonly:
          $ref: '#/components/schemas/IsReadonly'
        is_popular:
          $ref: '#/components/schemas/IsPopular'
        in_suggest:
          $ref: '#/components/schemas/InSuggest'
        is_stopped:
          $ref: '#/components/schemas/IsStopped'
        is_compound:
          $ref: '#/components/schemas/IsCompound'
        is_splittable:
          $ref: '#/components/schemas/IsSplittable'
        price:
          $ref: '#/components/schemas/ProductPrice'
        price_raw:
          $ref: '#/components/schemas/ProductPriceRaw'
        default_price:
          $ref: '#/components/schemas/DefaultPrice'
        default_price_raw:
          $ref: '#/components/schemas/DefaultPriceRaw'
        regular_price:
          $ref: '#/components/schemas/ProductRegularPrice'
        regular_price_raw:
          $ref: '#/components/schemas/ProductRegularPriceRaw'
        image_url:
          $ref: '#/components/schemas/ImageUrl'
        timezone:
          $ref: '#/components/schemas/TimeZone'
        is_group_limited:
          $ref: '#/components/schemas/IsGroupLimited'
        group_sale:
          $ref: '#/components/schemas/GroupSale'
        group_sale_time:
          $ref: '#/components/schemas/GroupSaleTime'
        group_sale_hidden:
          $ref: '#/components/schemas/GroupSaleHidden'
        is_sales_limited:
          $ref: '#/components/schemas/IsSalesLimited'
        is_sale:
          $ref: '#/components/schemas/IsSale'
        sales_time:
          $ref: '#/components/schemas/SalesTime'
        is_limited_hidden:
          $ref: '#/components/schemas/IsLimitedHidden'
        half_price:
          $ref: '#/components/schemas/ProductHalfPrice'
        half_price_raw:
          $ref: '#/components/schemas/ProductHalfPriceRaw'
        sizes:
          type: array
          description: Размеры
          items:
            $ref: '#/components/schemas/SizeV2'
    ProductV2:
      type: object
      required:
        - group_id
        - product_id
        - name
        - size_id
        - size_name
        - description
        - measure_unit
        - weight
        - weight_raw
        - default_weight
        - default_weight_raw
        - simple
        - have_options
        - default_enough
        - paid_modifiers_exists
        - different_sizes_exists
        - is_prohibited
        - is_readonly
        - is_popular
        - in_suggest
        - is_compound
        - is_splittable
        - is_selectable_modifiers
        - price
        - price_raw
        - default_price
        - default_price_raw
        - sizes
        - tags
        - badges
      properties:
        group_id:
          $ref: '#/components/schemas/ParentGroup'
        product_id:
          $ref: '#/components/schemas/ProductId'
        name:
          $ref: '#/components/schemas/ProductName'
        description:
          $ref: '#/components/schemas/ProductDescription'
        measure_unit:
          $ref: '#/components/schemas/MeasureUnit'
        schema_id:
          $ref: '#/components/schemas/SchemaId'
        schema_name:
          $ref: '#/components/schemas/SchemaName'
        size_id:
          $ref: '#/components/schemas/SizeId'
        size_name:
          $ref: '#/components/schemas/SizeName'
        weight:
          $ref: '#/components/schemas/ProductWeight'
        weight_raw:
          $ref: '#/components/schemas/ProductWeightRaw'
        default_weight:
          $ref: '#/components/schemas/DefaultWeight'
        default_weight_raw:
          $ref: '#/components/schemas/DefaultWeightRaw'
        simple:
          $ref: '#/components/schemas/IsSimple'
        have_options:
          $ref: '#/components/schemas/HaveOptions'
        default_enough:
          $ref: '#/components/schemas/DefaultEnough'
        paid_modifiers_exists:
          $ref: '#/components/schemas/PaidModifiersExists'
        different_sizes_exists:
          $ref: '#/components/schemas/DifferentSizesExists'
        only_size_id:
          $ref: '#/components/schemas/OnlySizeId'
        is_prohibited:
          $ref: '#/components/schemas/IsProhibited'
        is_readonly:
          $ref: '#/components/schemas/IsReadonly'
        is_popular:
          $ref: '#/components/schemas/IsPopular'
        in_suggest:
          $ref: '#/components/schemas/InSuggest'
        is_stopped:
          $ref: '#/components/schemas/IsStopped'
        is_compound:
          $ref: '#/components/schemas/IsCompound'
        is_splittable:
          $ref: '#/components/schemas/IsSplittable'
        is_selectable_modifiers:
          $ref: '#/components/schemas/IsSelectableModifiers'
        price:
          $ref: '#/components/schemas/ProductPrice'
        price_raw:
          $ref: '#/components/schemas/ProductPriceRaw'
        default_price:
          $ref: '#/components/schemas/DefaultPrice'
        default_price_raw:
          $ref: '#/components/schemas/DefaultPriceRaw'
        regular_price:
          $ref: '#/components/schemas/ProductRegularPrice'
        regular_price_raw:
          $ref: '#/components/schemas/ProductRegularPriceRaw'
        image_url:
          $ref: '#/components/schemas/ImageUrl'
        timezone:
          $ref: '#/components/schemas/TimeZone'
        is_group_limited:
          $ref: '#/components/schemas/IsGroupLimited'
        group_sale:
          $ref: '#/components/schemas/GroupSale'
        group_sale_time:
          $ref: '#/components/schemas/GroupSaleTime'
        group_sale_hidden:
          $ref: '#/components/schemas/GroupSaleHidden'
        is_sales_limited:
          $ref: '#/components/schemas/IsSalesLimited'
        is_sale:
          $ref: '#/components/schemas/IsSale'
        sales_time:
          $ref: '#/components/schemas/SalesTime'
        is_limited_hidden:
          $ref: '#/components/schemas/IsLimitedHidden'
        half_price:
          $ref: '#/components/schemas/ProductHalfPrice'
        half_price_raw:
          $ref: '#/components/schemas/ProductHalfPriceRaw'
        version:
          $ref: '#/components/schemas/MenuVersion'
        tags:
          type: array
          description: Теги
          items:
            $ref: '#/components/schemas/ProductTag'
        badges:
          type: array
          description: Бейджи
          items:
            $ref: '#/components/schemas/ProductBadge'
        sizes:
          type: array
          description: Размеры
          items:
            $ref: '#/components/schemas/SizeV2'
        halves:
          type: array
          description: Половинки
          items:
            $ref: '#/components/schemas/ProductHalfV2'
    CartItemCompound:
      type: object
      nullable: true
      required:
        - primary_id
        - secondary_id
        - primary_price
        - secondary_price
        - primary_half_price
        - secondary_half_price
      properties:
        primary_id:
          $ref: '#/components/schemas/CompoundPrimaryId'
        secondary_id:
          $ref: '#/components/schemas/CompoundSecondaryId'
        primary_price:
          $ref: '#/components/schemas/CompoundPrimaryPrice'
        secondary_price:
          $ref: '#/components/schemas/CompoundSecondaryPrice'
        primary_half_price:
          $ref: '#/components/schemas/CompoundPrimaryHalfPrice'
        secondary_half_price:
          $ref: '#/components/schemas/CompoundSecondaryHalfPrice'
    CartItemModifier:
      type: object
      required:
        - group_id
        - modifier_id
        - is_splittable
        - name
        - price
        - origin_price
        - amount
      properties:
        group_id:
          $ref: '#/components/schemas/GroupId'
        modifier_id:
          $ref: '#/components/schemas/ModifierId'
        is_splittable:
          $ref: '#/components/schemas/IsSplittable'
        name:
          $ref: '#/components/schemas/ModifierName'
        price:
          $ref: '#/components/schemas/ProductPriceRaw'
        origin_price:
          $ref: '#/components/schemas/ProductOriginPriceRaw'
        amount:
          $ref: '#/components/schemas/Amount'
    CartItem:
      type: object
      required:
        - combo_hash
        - product_id
        - parent_group
        - name
        - regular_price
        - origin_price
        - price
        - amount
        - regular_total
        - total
        - discount
        - is_changed
        - is_banned
        - is_marker
        - changed_type
        - is_compound
        - pay_sum
        - regular_price_raw
        - origin_price_raw
        - price_raw
        - regular_total_raw
        - total_raw
        - discount_raw
        - pay_sum_raw
      properties:
        combo_hash:
          $ref: '#/components/schemas/ComboHash'
        schema_id:
          $ref: '#/components/schemas/SchemaId'
        product_id:
          $ref: '#/components/schemas/ProductId'
        half_id:
          $ref: '#/components/schemas/HalfId'
        parent_group:
          $ref: '#/components/schemas/ParentGroup'
        size_id:
          $ref: '#/components/schemas/SizeId'
        size_name:
          $ref: '#/components/schemas/SizeName'
        image_url:
          $ref: '#/components/schemas/ImageUrl'
        name:
          $ref: '#/components/schemas/ProductName'
        half_name:
          $ref: '#/components/schemas/HalfName'
        full_name:
          $ref: '#/components/schemas/ProductFullName'
        description:
          $ref: '#/components/schemas/ProductDescription'
        regular_price:
          $ref: '#/components/schemas/ProductRegularPrice'
        origin_price:
          $ref: '#/components/schemas/ProductOriginPrice'
        price:
          $ref: '#/components/schemas/ProductPrice'
        amount:
          $ref: '#/components/schemas/Amount'
        regular_total:
          $ref: '#/components/schemas/RegularTotal'
        total:
          $ref: '#/components/schemas/Total'
        discount:
          $ref: '#/components/schemas/Discount'
        pay_sum:
          $ref: '#/components/schemas/PaySum'
        regular_price_raw:
          $ref: '#/components/schemas/ProductRegularPriceRaw'
        origin_price_raw:
          $ref: '#/components/schemas/ProductOriginPriceRaw'
        price_raw:
          $ref: '#/components/schemas/ProductPriceRaw'
        regular_total_raw:
          $ref: '#/components/schemas/RegularTotalRaw'
        total_raw:
          $ref: '#/components/schemas/TotalRaw'
        discount_raw:
          $ref: '#/components/schemas/DiscountRaw'
        pay_sum_raw:
          $ref: '#/components/schemas/PaySumRaw'
        ban_reason:
          $ref: '#/components/schemas/CartBanReason'
        changed_type:
          $ref: '#/components/schemas/CartChangedType'
        is_changed:
          $ref: '#/components/schemas/CartIsChanged'
        is_banned:
          $ref: '#/components/schemas/CartIsBanned'
        is_marker:
          $ref: '#/components/schemas/CartIsMarker'
        is_compound:
          $ref: '#/components/schemas/IsCompoundItem'
        compound:
          $ref: '#/components/schemas/CartItemCompound'
        selectors:
          type: array
          description: Селекторные модификаторы
          items:
            $ref: '#/components/schemas/CartItemModifier'
        extra_added:
          type: array
          description: Одиночные модификаторы
          items:
            $ref: '#/components/schemas/CartItemModifier'
    Cart:
      type: object
      nullable: true
      required:
        - city_id
        - user_hash
        - sum
        - sum_raw
        - discount
        - discount_raw
        - pay_sum
        - pay_sum_raw
        - count
      properties:
        city_id:
          $ref: '#/components/schemas/CityId'
        shop_id:
          $ref: '#/components/schemas/ShopId'
        user_hash:
          $ref: '#/components/schemas/UserHash'
        sum:
          $ref: '#/components/schemas/Total'
        sum_raw:
          $ref: '#/components/schemas/TotalRaw'
        discount:
          $ref: '#/components/schemas/Discount'
        discount_raw:
          $ref: '#/components/schemas/DiscountRaw'
        pay_sum:
          $ref: '#/components/schemas/PaySum'
        pay_sum_raw:
          $ref: '#/components/schemas/PaySumRaw'
        count:
          $ref: '#/components/schemas/CartCount'
        list:
          type: array
          description: Элементы корзины
          items:
            $ref: '#/components/schemas/CartItem'
        coupon:
          type: object
          description: Информация о примененном промокоде
          nullable: true
          required:
            - id
            - code
          properties:
            id:
              $ref: '#/components/schemas/CouponId'
            code:
              $ref: '#/components/schemas/CouponCode'
            notice:
              type: boolean
              description: Необходимо показать уведомление о маркерном промокоде
              example: true
        order_off:
          $ref: '#/components/schemas/CartOrderOff'
        shop_off:
          $ref: '#/components/schemas/CartShopOff'
    CartChange:
      type: object
      required:
        - city_id
        - user_hash
        - combo_hash
        - amount
        - is_qr
      properties:
        city_id:
          $ref: '#/components/schemas/CityId'
        shop_id:
          $ref: '#/components/schemas/ShopId'
        user_hash:
          $ref: '#/components/schemas/UserHash'
        combo_hash:
          $ref: '#/components/schemas/ComboHash'
        amount:
          $ref: '#/components/schemas/Amount'
        is_qr:
          $ref: '#/components/schemas/IsQr'
    CouponSet:
      type: object
      required:
        - city_id
        - user_hash
        - code
        - is_qr
      properties:
        city_id:
          $ref: '#/components/schemas/CityId'
        shop_id:
          $ref: '#/components/schemas/ShopId'
        user_hash:
          $ref: '#/components/schemas/UserHash'
        code:
          $ref: '#/components/schemas/CouponCode'
        is_qr:
          $ref: '#/components/schemas/IsQr'
    CartAdd:
      type: object
      required:
        - city_id
        - user_hash
        - product_id
        - parent_group
        - origin_price
        - price
        - is_qr
      properties:
        city_id:
          $ref: '#/components/schemas/CityId'
        shop_id:
          $ref: '#/components/schemas/ShopId'
        user_hash:
          $ref: '#/components/schemas/UserHash'
        product_id:
          $ref: '#/components/schemas/ProductId'
        half_id:
          $ref: '#/components/schemas/HalfId'
        parent_group:
          $ref: '#/components/schemas/ParentGroup'
        size_id:
          $ref: '#/components/schemas/SizeId'
        compound:
          $ref: '#/components/schemas/CartItemCompound'
        selectors:
          type: array
          description: Селекторные модификаторы
          items:
            $ref: '#/components/schemas/CartItemModifier'
        extra_added:
          type: array
          description: Одиночные модификаторы
          items:
            $ref: '#/components/schemas/CartItemModifier'
        regular_price:
          $ref: '#/components/schemas/ProductRegularPriceRaw'
        origin_price:
          $ref: '#/components/schemas/ProductOriginPriceRaw'
        price:
          $ref: '#/components/schemas/ProductPriceRaw'
        is_qr:
          $ref: '#/components/schemas/IsQr'
    OrderItem:
      type: object
      required:
        - item_id
        - product_id
        - parent_group
        - name
        - origin_price
        - price
        - amount
        - total
        - discount
        - is_marker
        - is_compound
        - pay_sum
        - origin_price_raw
        - price_raw
        - total_raw
        - discount_raw
        - pay_sum_raw
      properties:
        item_id:
          type: string
          description: Идентификатор элемента заказа
          example: 2cdabb3b-9709-46d2-b6c8-6b6be05eea52
        schema_id:
          $ref: '#/components/schemas/SchemaId'
        product_id:
          $ref: '#/components/schemas/ProductId'
        parent_group:
          $ref: '#/components/schemas/ParentGroup'
        size_id:
          $ref: '#/components/schemas/SizeId'
        name:
          $ref: '#/components/schemas/ProductFullName'
        origin_price:
          $ref: '#/components/schemas/ProductOriginPrice'
        price:
          $ref: '#/components/schemas/ProductPrice'
        amount:
          $ref: '#/components/schemas/Amount'
        total:
          $ref: '#/components/schemas/Total'
        discount:
          $ref: '#/components/schemas/Discount'
        pay_sum:
          $ref: '#/components/schemas/PaySum'
        origin_price_raw:
          $ref: '#/components/schemas/ProductOriginPriceRaw'
        price_raw:
          $ref: '#/components/schemas/ProductPriceRaw'
        total_raw:
          $ref: '#/components/schemas/TotalRaw'
        discount_raw:
          $ref: '#/components/schemas/DiscountRaw'
        pay_sum_raw:
          $ref: '#/components/schemas/PaySumRaw'
        is_marker:
          $ref: '#/components/schemas/CartIsMarker'
        is_compound:
          $ref: '#/components/schemas/IsCompoundItem'
        selectors:
          type: string
          description: Список примененных селекторных модификаторов
        extra_added:
          type: string
          description: Список добавленных одиночных модификаторов
    Order:
      type: object
      required:
        - id
        - guid
        - city_id
        - guest_id
        - created
        - created_local
        - status
        - type
        - total
        - pay_sum
        - sub_total
        - sum_before_delivery
        - created_iso
        - status_name
        - type_name
        - total_raw
        - pay_sum_raw
        - sub_total_raw
        - sum_before_delivery_raw
        - complete_duration_raw
        - complete_duration
        - is_cash_available
        - is_card_available
        - is_online_available
        - products
      properties:
        id:
          $ref: '#/components/schemas/Id'
        guid:
          $ref: '#/components/schemas/OrderGuid'
        user_hash:
          $ref: '#/components/schemas/UserHash'
        city_id:
          $ref: '#/components/schemas/CityId'
        guest_id:
          $ref: '#/components/schemas/GuestId'
        shop_id:
          $ref: '#/components/schemas/ShopId'
        coupon_id:
          $ref: '#/components/schemas/CouponId'
        shop_name:
          $ref: '#/components/schemas/ShopName'
        section_id:
          $ref: '#/components/schemas/SectionId'
        table_id:
          $ref: '#/components/schemas/TableId'
        table_number:
          $ref: '#/components/schemas/TableNumber'
        table_addr:
          $ref: '#/components/schemas/TableAddr'
        review_id:
          type: integer
          nullable: true
          description: Идентификатор отзыва, если есть
          example: 1
        created:
          $ref: '#/components/schemas/OrderCreated'
        created_local:
          $ref: '#/components/schemas/OrderCreatedLocal'
        status:
          $ref: '#/components/schemas/OrderStatus'
        type:
          $ref: '#/components/schemas/OrderType'
        on_time:
          $ref: '#/components/schemas/OrderOnTime'
        on_time_local:
          $ref: '#/components/schemas/OrderOnTimeLocal'
        comment:
          $ref: '#/components/schemas/OrderComment'
        addr:
          $ref: '#/components/schemas/Addr'
        addr_lat:
          $ref: '#/components/schemas/AddrLat'
        addr_lon:
          $ref: '#/components/schemas/AddrLon'
        free_delivery:
          $ref: '#/components/schemas/FreeDelivery'
        minimum_order:
          $ref: '#/components/schemas/MinimumOrder'
        name:
          $ref: '#/components/schemas/GuestName'
        phone:
          $ref: '#/components/schemas/GuestPhoneFormatted'
        city:
          $ref: '#/components/schemas/CityName'
        district:
          $ref: '#/components/schemas/District'
        street:
          $ref: '#/components/schemas/Street'
        house:
          $ref: '#/components/schemas/House'
        apartment:
          $ref: '#/components/schemas/Apartment'
        entrance:
          $ref: '#/components/schemas/Entrance'
        floor:
          $ref: '#/components/schemas/Floor'
        doorphone:
          $ref: '#/components/schemas/Doorphone'
        persons_count:
          $ref: '#/components/schemas/PersonsCount'
        payment_type:
          $ref: '#/components/schemas/PaymentType'
        payment_status:
          $ref: '#/components/schemas/PaymentStatus'
        payment_url:
          $ref: '#/components/schemas/PaymentUrl'
        payment_merchant:
          $ref: '#/components/schemas/PaymentMerchant'
        loyalty_can:
          $ref: '#/components/schemas/LoyaltyCan'
        loyalty_bonus:
          $ref: '#/components/schemas/LoyaltyBonus'
        loyalty_discount:
          $ref: '#/components/schemas/LoyaltyDiscount'
        loyalty_applied:
          type: array
          description: Список примененных к заказу акций
          items:
            type: string
            description: Название акции
            example: Скидка 15% на пиццу
        coupon_code:
          $ref: '#/components/schemas/CouponCode'
        coupon_discount:
          $ref: '#/components/schemas/CouponDiscount'
        delivery_price:
          $ref: '#/components/schemas/DeliveryPrice'
        total:
          $ref: '#/components/schemas/Total'
        cash_change:
          $ref: '#/components/schemas/CashChange'
        is_order_on_time:
          $ref: '#/components/schemas/IsOrderOnTime'
        is_viewed_by_guest:
          $ref: '#/components/schemas/IsViewedByGuest'
        pay_sum:
          $ref: '#/components/schemas/PaySum'
        is_empty_pay_sum:
          $ref: '#/components/schemas/IsEmptyPaySum'
        sub_total:
          $ref: '#/components/schemas/SubTotal'
        sum_before_delivery:
          $ref: '#/components/schemas/SumBeforeDelivery'
        addr_hash:
          $ref: '#/components/schemas/AddrHash'
        formatted_address:
          $ref: '#/components/schemas/FormattedAddress'
        created_iso:
          $ref: '#/components/schemas/OrderCreatedIso'
        status_name:
          $ref: '#/components/schemas/OrderStatusName'
        type_name:
          $ref: '#/components/schemas/OrderTypeName'
        on_time_raw:
          $ref: '#/components/schemas/OrderOnTimeRaw'
        on_time_short:
          $ref: '#/components/schemas/OrderOnTimeShort'
        on_time_local_raw:
          $ref: '#/components/schemas/OrderOnTimeLocalRaw'
        on_time_local_short:
          $ref: '#/components/schemas/OrderOnTimeLocalShort'
        free_delivery_raw:
          $ref: '#/components/schemas/FreeDeliveryRaw'
        minimum_order_raw:
          $ref: '#/components/schemas/MinimumOrderRaw'
        payment_type_name:
          $ref: '#/components/schemas/PaymentTypeName'
        payment_status_name:
          $ref: '#/components/schemas/PaymentStatusName'
        payment_merchant_name:
          $ref: '#/components/schemas/PaymentMerchantName'
        loyalty_can_raw:
          $ref: '#/components/schemas/LoyaltyCanRaw'
        loyalty_bonus_raw:
          $ref: '#/components/schemas/LoyaltyBonusRaw'
        loyalty_discount_raw:
          $ref: '#/components/schemas/LoyaltyDiscountRaw'
        coupon_discount_raw:
          $ref: '#/components/schemas/CouponDiscountRaw'
        delivery_price_raw:
          $ref: '#/components/schemas/DeliveryPriceRaw'
        total_raw:
          $ref: '#/components/schemas/TotalRaw'
        cash_change_raw:
          $ref: '#/components/schemas/CashChangeRaw'
        pay_sum_raw:
          $ref: '#/components/schemas/PaySumRaw'
        sub_total_raw:
          $ref: '#/components/schemas/SubTotalRaw'
        sum_before_delivery_raw:
          $ref: '#/components/schemas/SumBeforeDeliveryRaw'
        complete_duration:
          $ref: '#/components/schemas/CompleteDuration'
        complete_duration_raw:
          $ref: '#/components/schemas/CompleteDurationRaw'
        is_cash_available:
          $ref: '#/components/schemas/IsCashAvailable'
        is_card_available:
          $ref: '#/components/schemas/IsCardAvailable'
        is_online_available:
          $ref: '#/components/schemas/IsOnlineAvailable'
        bank_name:
          $ref: '#/components/schemas/OrderBankName'
        products:
          type: array
          description: Список продуктов заказа
          items:
            $ref: '#/components/schemas/OrderItem'
    OrderShort:
      type: object
      required:
        - id
        - guid
        - created_local
        - status
        - type
        - total
        - pay_sum
        - sub_total
        - sum_before_delivery
        - status_name
        - type_name
        - total_raw
        - pay_sum_raw
        - sub_total_raw
        - sum_before_delivery_raw
        - products
      properties:
        id:
          $ref: '#/components/schemas/Id'
        guid:
          $ref: '#/components/schemas/OrderGuid'
        user_hash:
          $ref: '#/components/schemas/UserHash'
        created_local:
          $ref: '#/components/schemas/OrderCreatedLocal'
        status:
          $ref: '#/components/schemas/OrderStatus'
        type:
          $ref: '#/components/schemas/OrderType'
        city:
          $ref: '#/components/schemas/CityName'
        street:
          $ref: '#/components/schemas/Street'
        house:
          $ref: '#/components/schemas/House'
        apartment:
          $ref: '#/components/schemas/Apartment'
        delivery_price:
          $ref: '#/components/schemas/DeliveryPrice'
        total:
          $ref: '#/components/schemas/Total'
        pay_sum:
          $ref: '#/components/schemas/PaySum'
        is_empty_pay_sum:
          $ref: '#/components/schemas/IsEmptyPaySum'
        sub_total:
          $ref: '#/components/schemas/SubTotal'
        sum_before_delivery:
          $ref: '#/components/schemas/SumBeforeDelivery'
        formatted_address:
          $ref: '#/components/schemas/FormattedAddress'
        status_name:
          $ref: '#/components/schemas/OrderStatusName'
        type_name:
          $ref: '#/components/schemas/OrderTypeName'
        delivery_price_raw:
          $ref: '#/components/schemas/DeliveryPriceRaw'
        total_raw:
          $ref: '#/components/schemas/TotalRaw'
        pay_sum_raw:
          $ref: '#/components/schemas/PaySumRaw'
        sub_total_raw:
          $ref: '#/components/schemas/SubTotalRaw'
        sum_before_delivery_raw:
          $ref: '#/components/schemas/SumBeforeDeliveryRaw'
        products:
          type: integer
          description: Количество позиций продуктов в заказе
          example: 1
    TableItem:
      type: object
      required:
        - section_id
        - table_id
        - table_number
        - table_addr
      properties:
        section_id:
          $ref: '#/components/schemas/SectionId'
        table_id:
          $ref: '#/components/schemas/TableId'
        table_number:
          $ref: '#/components/schemas/TableNumber'
        table_addr:
          $ref: '#/components/schemas/TableAddr'
    AddrItem:
      type: object
      required:
        - city
        - street
        - house
        - addr
      properties:
        city:
          $ref: '#/components/schemas/CityName'
        district:
          $ref: '#/components/schemas/District'
        street:
          $ref: '#/components/schemas/Street'
        house:
          $ref: '#/components/schemas/House'
        apartment:
          $ref: '#/components/schemas/Apartment'
        entrance:
          $ref: '#/components/schemas/Entrance'
        floor:
          $ref: '#/components/schemas/Floor'
        doorphone:
          $ref: '#/components/schemas/Doorphone'
        addr_lat:
          $ref: '#/components/schemas/AddrLat'
        addr_lon:
          $ref: '#/components/schemas/AddrLon'
        addr:
          $ref: '#/components/schemas/Addr'
        addr_street:
          $ref: '#/components/schemas/AddrStreet'
        kladr_id:
          $ref: '#/components/schemas/KladrId'
        place_id:
          $ref: '#/components/schemas/PlaceId'
        addr_hash:
          $ref: '#/components/schemas/AddrHash'
        formatted_address:
          $ref: '#/components/schemas/FormattedAddress'
    PickupItem:
      type: object
      required:
        - id
        - city_id
        - name
        - city
        - street
        - house
        - table_on
        - pickup_on
        - delivery_on
        - qr_on
        - is_default
        - addr_hash
        - formatted_address
        - delivery_mins
        - pickup_mins
        - is_open
        - working_time
      properties:
        id:
          $ref: '#/components/schemas/ShopId'
        city_id:
          $ref: '#/components/schemas/CityId'
        name:
          $ref: '#/components/schemas/ShopName'
        city:
          $ref: '#/components/schemas/CityName'
        district:
          $ref: '#/components/schemas/District'
        street:
          $ref: '#/components/schemas/Street'
        house:
          $ref: '#/components/schemas/House'
        table_on:
          $ref: '#/components/schemas/TableOn'
        pickup_on:
          $ref: '#/components/schemas/PickupOn'
        delivery_on:
          $ref: '#/components/schemas/DeliveryOn'
        qr_on:
          $ref: '#/components/schemas/QrOn'
        is_default:
          $ref: '#/components/schemas/IsDefault'
        addr_hash:
          $ref: '#/components/schemas/AddrHash'
        formatted_address:
          $ref: '#/components/schemas/FormattedAddress'
        delivery_mins:
          $ref: '#/components/schemas/DeliveryMins'
        pickup_mins:
          $ref: '#/components/schemas/PickupMins'
        is_open:
          $ref: '#/components/schemas/IsOpen'
        working_time:
          $ref: '#/components/schemas/WorkingTime'
        open_time:
          $ref: '#/components/schemas/OpenTime'
        close_time:
          $ref: '#/components/schemas/CloseTime'
    DeliveryParam:
      type: object
      required:
        - city_id
        - shop_id
        - delivery_price
        - free_delivery
        - free_delivery_left
        - minimum_order
        - pay_sum_raw
        - pay_sum_with_delivery_raw
        - pay_sum
        - pay_sum_with_delivery
        - is_can_delivery
        - is_default
      properties:
        city_id:
          $ref: '#/components/schemas/CityId'
        shop_id:
          $ref: '#/components/schemas/ShopId'
        zone_id:
          $ref: '#/components/schemas/ZoneId'
        delivery_price:
          $ref: '#/components/schemas/DeliveryPriceRaw'
        free_delivery:
          $ref: '#/components/schemas/FreeDeliveryRaw'
        free_delivery_left:
          $ref: '#/components/schemas/FreeDeliveryLeftRaw'
        minimum_order:
          $ref: '#/components/schemas/MinimumOrderRaw'
        pay_sum_raw:
          $ref: '#/components/schemas/PaySumRaw'
        pay_sum_with_delivery_raw:
          $ref: '#/components/schemas/PaySumWithDeliveryRaw'
        pay_sum:
          $ref: '#/components/schemas/PaySum'
        pay_sum_with_delivery:
          $ref: '#/components/schemas/PaySumWithDelivery'
        is_can_delivery:
          $ref: '#/components/schemas/IsCanDelivery'
        is_out_of_zones:
          $ref: '#/components/schemas/IsOutOfZones'
        delivery_guid:
          $ref: '#/components/schemas/DeliveryGuid'
        delivery_point:
          type: object
          description: Координаты точки доставки
          required:
            - lat
            - lon
          properties:
            lat:
              $ref: '#/components/schemas/AddrLat'
            lon:
              $ref: '#/components/schemas/AddrLon'
        is_default:
          type: boolean
          description: Стандартное заведение доставки
          example: false
    OnlinePayment:
      type: object
      required:
        - id
        - type
        - merchant
        - url
      properties:
        id:
          type: string
          description: Идентификатор платежа
          example: 5b29a8ce-c9f4-5247-9efc-bd1cd86b8c68
        type:
          $ref: '#/components/schemas/OnlinePaymentType'
        merchant:
          $ref: '#/components/schemas/PaymentMerchant'
        url:
          $ref: '#/components/schemas/PaymentUrl'
        params:
          type: object
          description: Параметры виджета оплаты
    OrderStatusInfo:
      type: object
      required:
        - guid
        - created_local
        - created_local_time
        - status
        - status_name
      properties:
        guid:
          $ref: '#/components/schemas/OrderGuid'
        created_local:
          $ref: '#/components/schemas/OrderCreatedLocal'
        created_local_time:
          $ref: '#/components/schemas/OrderCreatedLocalShort'
        status:
          $ref: '#/components/schemas/OrderStatus'
        status_name:
          $ref: '#/components/schemas/OrderStatusName'
    EcommerceStruct:
      type: object
      nullable: true
      required:
        - guid
      properties:
        currencyCode:
          type: string
          description: Валюта сайта
          example: RUB
        purchase:
          type: object
          description: Блок с купленными продуктами
          required:
            - actionField
            - products
          properties:
            actionField:
              type: object
              description: Блок с дополнительными данными
              required:
                - id
              properties:
                id:
                  type: integer
                  description: Идентификатор заказа
                  example: 1
            products:
              type: array
              description: Список купленных продуктов
              items:
                type: object
                description: Купленный продукт
                required:
                  - name
                  - price
                  - quantity
                properties:
                  name:
                    $ref: '#/components/schemas/ProductFullName'
                  price:
                    type: number
                    description: Цена в валюте сайта
                    example: 200
                  quantity:
                    $ref: '#/components/schemas/Amount'
    CreateOrderRequest:
      type: object
      required:
        - city_id
        - user_hash
        - is_qr
      properties:
        city_id:
          $ref: '#/components/schemas/CityId'
        shop_id:
          $ref: '#/components/schemas/ShopId'
        table_id:
          $ref: '#/components/schemas/TableId'
        user_hash:
          $ref: '#/components/schemas/UserHash'
        tg_init_data:
          $ref: '#/components/schemas/TgInitData'
        sec_response:
          type: string
          description: Токен Yandex SmartCaptcha, необходимо передавать только если
            пользователь анонимный
        is_qr:
          $ref: '#/components/schemas/IsQr'
    RepeatOrderRequest:
      type: object
      required:
        - city_id
        - user_hash
        - is_qr
      properties:
        city_id:
          $ref: '#/components/schemas/CityId'
        shop_id:
          $ref: '#/components/schemas/ShopId'
        user_hash:
          $ref: '#/components/schemas/UserHash'
        is_qr:
          $ref: '#/components/schemas/IsQr'
    ReviewOrderRequest:
      type: object
      required:
        - rating
      properties:
        rating:
          type: integer
          description: Оценка (от 1 до 5)
          example: 5
        text:
          type: string
          description: Комментарий
          example: string
        media:
          type: array
          description: Идентификаторы изображений
          items:
            type: integer
            example: 1
    ReviewMediaRequest:
      type: object
      required:
        - media[]
      properties:
        media[]:
          type: string
          format: binary
          description: Изображения
    OrderDeliveryRequest:
      type: object
      required:
        - type
        - street
        - house
      properties:
        name:
          $ref: '#/components/schemas/GuestName'
        type:
          type: string
          description: Тип заказа
          example: delivery
        on_time:
          $ref: '#/components/schemas/OrderOnTimeRaw'
        comment:
          $ref: '#/components/schemas/OrderComment'
        city:
          $ref: '#/components/schemas/CityName'
        district:
          $ref: '#/components/schemas/District'
        street:
          $ref: '#/components/schemas/Street'
        house:
          $ref: '#/components/schemas/House'
        apartment:
          $ref: '#/components/schemas/Apartment'
        entrance:
          $ref: '#/components/schemas/Entrance'
        floor:
          $ref: '#/components/schemas/Floor'
        doorphone:
          $ref: '#/components/schemas/Doorphone'
        addr:
          $ref: '#/components/schemas/Addr'
        addr_street:
          $ref: '#/components/schemas/AddrStreet'
        kladr_id:
          $ref: '#/components/schemas/KladrId'
        place_id:
          $ref: '#/components/schemas/PlaceId'
    OrderPickupRequest:
      type: object
      required:
        - shop_id
        - type
      properties:
        shop_id:
          $ref: '#/components/schemas/ShopId'
        name:
          $ref: '#/components/schemas/GuestName'
        type:
          type: string
          description: Тип заказа
          example: pickup
        on_time:
          $ref: '#/components/schemas/OrderOnTimeRaw'
        comment:
          $ref: '#/components/schemas/OrderComment'
    PaymentInitRequest:
      type: object
      required:
        - payment_type
      properties:
        name:
          $ref: '#/components/schemas/GuestName'
        payment_type:
          $ref: '#/components/schemas/PaymentType'
        persons_count:
          $ref: '#/components/schemas/PersonsCount'
        table_id:
          $ref: '#/components/schemas/TableId'
        section_id:
          $ref: '#/components/schemas/SectionId'
        table_number:
          $ref: '#/components/schemas/TableNumber'
        table_addr:
          $ref: '#/components/schemas/TableAddr'
        loyalty_bonus:
          $ref: '#/components/schemas/LoyaltyBonusRaw'
        cash_change:
          $ref: '#/components/schemas/CashChangeRaw'
        comment:
          $ref: '#/components/schemas/OrderComment'
    PaymentConfirmRequest:
      type: object
      required:
        - jwt_token
      properties:
        jwt_token:
          type: string
          description: JWT-токен подтверждения платежа с идентификатором платежа в
            payload
          example: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3MzkzNzI3ODYsImRhdGEiOnsiaWQiOiI1YjI5YThjZS1jOWY0LTUyNDctOWVmYy1iZDFjZDg2YjhjNjgifX0.YN0vG2WkIrwcmRnDITPi0HAPyz1wGZKcYVluW-0auAg
    PasswordUpdateRequest:
      type: object
      required:
        - password
        - new_password
      properties:
        password:
          $ref: '#/components/schemas/Password'
        new_password:
          $ref: '#/components/schemas/NewPassword'
    ProfileUpdateRequest:
      type: object
      properties:
        email:
          $ref: '#/components/schemas/GuestEmail'
        name:
          $ref: '#/components/schemas/GuestName'
        bday:
          type: string
          description: День рождения гостя в формате ГГГГММДД
          example: '19870401'
        is_subscribed:
          type: boolean
          description: Подписка на рассылки включена
          example: true
    CallbackRequest:
      type: object
      required:
        - user_hash
        - city_id
        - phone
        - sec_response
      properties:
        user_hash:
          $ref: '#/components/schemas/UserHash'
        city_id:
          $ref: '#/components/schemas/CityId'
        phone:
          $ref: '#/components/schemas/InputPhone'
        privacy:
          $ref: '#/components/schemas/AuthPrivacy'
        sec_response:
          $ref: '#/components/schemas/SecResponse'
    AuthPhoneRequest:
      type: object
      required:
        - city_id
        - phone
        - sec_response
      properties:
        city_id:
          $ref: '#/components/schemas/CityId'
        phone:
          $ref: '#/components/schemas/InputPhone'
        resend:
          $ref: '#/components/schemas/AuthResend'
        privacy:
          $ref: '#/components/schemas/AuthPrivacy'
        promo:
          $ref: '#/components/schemas/AuthPromo'
        sec_response:
          $ref: '#/components/schemas/SecResponse'
    AuthPhoneConfirmRequest:
      type: object
      required:
        - phone
        - code
      properties:
        phone:
          $ref: '#/components/schemas/InputPhone'
        code:
          $ref: '#/components/schemas/AuthCode'
    LoginRequest:
      type: object
      required:
        - city_id
        - phone
        - password
        - sec_response
      properties:
        city_id:
          $ref: '#/components/schemas/CityId'
        phone:
          $ref: '#/components/schemas/InputPhone'
        password:
          $ref: '#/components/schemas/Password'
        sec_response:
          $ref: '#/components/schemas/SecResponse'
    RecoveryRequest:
      type: object
      required:
        - phone
        - sec_response
      properties:
        phone:
          $ref: '#/components/schemas/InputPhone'
        sec_response:
          $ref: '#/components/schemas/SecResponse'
    RegisterRequest:
      type: object
      required:
        - city_id
        - phone
        - password
        - sec_response
      properties:
        city_id:
          $ref: '#/components/schemas/CityId'
        phone:
          $ref: '#/components/schemas/InputPhone'
        password:
          $ref: '#/components/schemas/NewPassword'
        resend:
          $ref: '#/components/schemas/AuthResend'
        privacy:
          $ref: '#/components/schemas/AuthPrivacy'
        promo:
          $ref: '#/components/schemas/AuthPromo'
        sec_response:
          $ref: '#/components/schemas/SecResponse'
  responses:
    QrPage:
      description: Информация о QR-меню
      content:
        application/json:
          schema:
            type: object
            required:
              - shop
              - nav
            properties:
              shop:
                $ref: '#/components/schemas/ShopQR'
              nav:
                type: object
                description: Навигация
                required:
                  - main
                properties:
                  main:
                    type: array
                    description: Основное меню
                    items:
                      type: object
                      required:
                        - name
                        - path
                        - scroll_to
                      properties:
                        name:
                          $ref: '#/components/schemas/PageName'
                        path:
                          $ref: '#/components/schemas/PagePath'
                        scroll_to:
                          type: integer
                          description: Цифровой идентификатор группы для скрола
                          nullable: true
                  privacy:
                    $ref: '#/components/schemas/QrNavItem'
                  public_offer:
                    $ref: '#/components/schemas/QrNavItem'
                  personal_data:
                    $ref: '#/components/schemas/QrNavItem'
                  promo_materials:
                    $ref: '#/components/schemas/QrNavItem'
                  cookie_policy:
                    $ref: '#/components/schemas/QrNavItem'
              products:
                type: object
                required:
                  - groups
                  - version
                properties:
                  groups:
                    type: object
                    required:
                      - id
                      - group_id
                      - name
                      - items
                    properties:
                      id:
                        type: integer
                        description: Цифровой идентификатор группы
                        example: 1
                      group_id:
                        type: string
                        description: Идентификатор группы
                        example: ba0b7688-f8a9-44cf-9e49-7ef42a1e31eb
                      name:
                        type: string
                        description: Название группы
                      is_sales_limited:
                        $ref: '#/components/schemas/IsSalesLimited'
                      is_sale:
                        $ref: '#/components/schemas/IsSale'
                      sales_time:
                        $ref: '#/components/schemas/SalesTime'
                      is_limited_hidden:
                        $ref: '#/components/schemas/IsLimitedHidden'
                      timezone:
                        $ref: '#/components/schemas/TimeZone'
                      mobile_grid:
                        $ref: '#/components/schemas/MobileGrid'
                      image_url:
                        $ref: '#/components/schemas/ImageUrl'
                      items:
                        oneOf:
                          - type: array
                            items:
                              $ref: '#/components/schemas/ProductListItemQRV0'
                          - type: array
                            items:
                              $ref: '#/components/schemas/ProductListItemQRV1'
                          - type: array
                            items:
                              $ref: '#/components/schemas/ProductListItemQRV2'
                  version:
                    $ref: '#/components/schemas/MenuVersion'
    PageInfo:
      description: Информация о странице
      content:
        application/json:
          schema:
            oneOf:
              - $ref: '#/components/schemas/Page'
              - $ref: '#/components/schemas/Redirect'
    BonusBalance:
      description: Бонусный баланс гостя
      content:
        application/json:
          schema:
            type: object
            required:
              - balance
            properties:
              balance:
                type: string
                nullable: true
                description: Бонусный баланс или null если бонусы не включены
                example: '153.00'
    QrMap:
      description: QR-карта гостя
      content:
        application/json:
          schema:
            type: object
            required:
              - qr
            properties:
              qr:
                type: string
                description: Изображение в виде base64-строки
                example: data:image/png;base64,iVBORw...
    Profile:
      description: Профиль гостя
      content:
        application/json:
          schema:
            type: object
            required:
              - id
              - guid
              - city_id
              - registred
              - phone
              - is_subscribed
              - is_confirmed
              - is_test
              - is_anonymous
            properties:
              id:
                $ref: '#/components/schemas/GuestId'
              guid:
                $ref: '#/components/schemas/Guid'
              city_id:
                $ref: '#/components/schemas/CityId'
              registred:
                type: string
                description: Дата и время регистрации гостя в формате ISO 8601 UTC
                example: 2024-09-19 08:14:42+00:00
              phone:
                $ref: '#/components/schemas/GuestPhone'
              email:
                $ref: '#/components/schemas/GuestEmail'
              name:
                $ref: '#/components/schemas/GuestName'
              bday:
                $ref: '#/components/schemas/GuestBDay'
              is_subscribed:
                type: boolean
                description: Подписка на рассылки включена
                example: true
              is_confirmed:
                type: boolean
                description: Номер телефона подтвержден
                example: true
              is_test:
                type: boolean
                description: Тестовый аккаунт-вездеход (используется для демонстраций,
                  игнорирует установленные настройки)
                example: true
              is_anonymous:
                type: boolean
                description: Анонимный гость, авторизован без регистрации и ввода
                  телефона. Для гостя не показываются заказы и профиль
                example: true
    GooglePlace:
      description: Детальная информация о месте
      content:
        application/json:
          schema:
            type: object
            required:
              - address_components
              - formatted_address
            properties:
              address_components:
                type: array
                description: Компоненты адреса
                items:
                  type: object
                  required:
                    - long_name
                    - short_name
                    - types
                  properties:
                    long_name:
                      type: string
                      description: Полное описание компонента
                      example: Пермская улица
                    short_name:
                      type: string
                      description: Короткое описание компонента
                      example: Пермская
                    types:
                      type: array
                      description: Типы компонентов
                      items:
                        type: string
                        enum:
                          - street_number
                          - route
                          - sublocality
                          - locality
                        example: route
              formatted_address:
                type: string
                description: Полный адрес
                example: 48 Pirrama Rd, Pyrmont NSW 2009, Australia
    CodeSendedSuccess:
      description: Код отправлен
      content:
        application/json:
          schema:
            type: object
            required:
              - type
            properties:
              type:
                type: string
                description: Тип отправленного сообщения
                enum:
                  - sms
                  - call
                  - voice
                  - push
                example: sms
              sources:
                type: array
                description: Показывает список источников в порядке очереди, по которым
                  может быть произведена каскадная отправка
                items:
                  type: string
                  enum:
                    - sms
                    - tg
                example:
                  - tg
                  - sms
    AuthSuccess:
      description: Успешная авторизация
      content:
        application/json:
          schema:
            type: object
            required:
              - guest_id
              - access_token
              - refresh_token
            properties:
              guest_id:
                $ref: '#/components/schemas/GuestId'
              access_token:
                type: string
                description: JWT access token
              refresh_token:
                type: string
                description: Refresh token
    BadRequestError:
      description: Неправильный запрос
      content:
        application/json:
          schema:
            type: object
            required:
              - error
              - code
            properties:
              error:
                type: string
                example: Описание деталей неправильного запроса
              code:
                type: integer
                example: 400
    UnauthorizedError:
      description: Пользователь не авторизован
      content:
        application/json:
          schema:
            type: object
            required:
              - error
              - code
            properties:
              error:
                type: string
                example: Описание причины
              code:
                type: integer
                example: 401
    PaymentRequiredError:
      description: Сервис не оплачен
      content:
        application/json:
          schema:
            type: object
            required:
              - error
              - code
            properties:
              error:
                type: string
                example: Subscription is expired
              code:
                type: integer
                example: 402
    ForbiddenError:
      description: Доступ запрещен
      content:
        application/json:
          schema:
            type: object
            required:
              - error
              - code
            properties:
              error:
                type: string
                example: Описание запрета
              code:
                type: integer
                example: 403
    NotFoundError:
      description: Метод или данные не найдены
      content:
        application/json:
          schema:
            type: object
            required:
              - error
              - code
            properties:
              error:
                type: string
                example: Описание типа данных
              code:
                type: integer
                example: 404
    ConflictError:
      description: Конфликт с текущим состоянием
      content:
        application/json:
          schema:
            type: object
            required:
              - error
              - code
            properties:
              error:
                type: string
                example: Тип состояния
              code:
                type: integer
                example: 409
    LockedError:
      description: Сервис не поддерживается
      content:
        application/json:
          schema:
            type: object
            required:
              - error
              - code
            properties:
              error:
                type: string
                example: Service not supported
              code:
                type: integer
                example: 423
    TooManyRequests:
      description: Превышен лимит на количество запросов
    InternalServerError:
      description: Внутренняя ошибка сервера
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                type: string
                example: Internal Server Error
              code:
                type: integer
                example: 500
    ServiceUnavailableError:
      description: Сервис недоступен или отключен
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                type: string
                example: Maintenance
              code:
                type: integer
                example: 503